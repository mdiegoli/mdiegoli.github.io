var FloMat=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=61)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=1e-10;function o(e,t,n,o=r){let i=(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0]);return Math.abs(i)<=o?0:i}function i(e,t){let n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function u(e,t){return Math.sqrt(i(e,t))}function l(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function s(e){return e[0]*e[0]+e[1]*e[1]}function c(e,t,n){return e[0]*(t[1]*n[2]-t[2]*n[1])-e[1]*(t[0]*n[2]-t[2]*n[0])+e[2]*(t[0]*n[1]-t[1]*n[0])}function a(e,t){function n(t){return[e[0]+t[0],e[1]+t[1]]}return void 0===t?n:n(t)}t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.cross=function(e,t){return e[0]*t[1]-e[1]*t[0]},t.ccw=o,t.segSegIntersection=function(e,t,n=r){let[o,i]=e,[u,l]=t,s=(i[0]-o[0])*(l[1]-u[1])-(i[1]-o[1])*(l[0]-u[0]),c=(o[1]-u[1])*(l[0]-u[0])-(o[0]-u[0])*(l[1]-u[1]),a=(o[1]-u[1])*(i[0]-o[0])-(o[0]-u[0])*(i[1]-o[1]);if(Math.abs(s)<=n)return void Math.abs(c);let d=c/s,f=a/s;return 0<=d&&d<=1&&0<=f&&f<=1?[o[0]+d*(i[0]-o[0]),o[1]+d*(i[1]-o[1])]:void 0},t.doesSegSegIntersect=function(e,t){return!(o(e[0],e[1],t[0])*o(e[0],e[1],t[1])>0||o(t[0],t[1],e[0])*o(t[0],t[1],e[1])>0)},t.squaredDistanceBetween=i,t.scale=function(e,t){return[e[0]*t,e[1]*t]},t.reverse=function(e){return[-e[0],-e[1]]},t.toUnitVector=function(e){let t=1/l(e);return[e[0]*t,e[1]*t]},t.toLength=function(e,t){let n=t/l(e);return[e[0]*n,e[1]*n]},t.fromTo=function(e,t){return[t[0]-e[0],t[1]-e[1]]},t.interpolate=function(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]},t.mean=function(e){let t=e[0],n=e[1];return[(t[0]+n[0])/2,(t[1]+n[1])/2]},t.distanceBetween=u,t.len=l,t.lengthSquared=s,t.manhattanDistanceBetween=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])},t.manhattanLength=function(e){return Math.abs(e[0])+Math.abs(e[1])},t.distanceBetweenPointAndLine=function(e,t){let[n,r]=e,[[o,i],[u,l]]=t,s=l-i,c=u-o,a=s*n-c*r+u*i-l*o,d=Math.sqrt(c*c+s*s);return Math.abs(a/d)},t.squaredDistanceBetweenPointAndLineSegment=function(e,t){const n=i;let r=t[0],o=t[1],u=n(r,o);if(0==u)return n(e,r);let l=((e[0]-r[0])*(o[0]-r[0])+(e[1]-r[1])*(o[1]-r[1]))/u;return l=Math.max(0,Math.min(1,l)),n(e,[r[0]+l*(o[0]-r[0]),r[1]+l*(o[1]-r[1])])},t.circumCenter=function(e){let t=e[0],n=e[1],r=e[2];const o=s;let i=.5*c([o(t),t[1],1],[o(n),n[1],1],[o(r),r[1],1]),u=.5*c([t[0],o(t),1],[n[0],o(n),1],[r[0],o(r),1]),l=c([t[0],t[1],1],[n[0],n[1],1],[r[0],r[1],1]);return[i/l,u/l]},t.inCenter=function(e){const t=u;let n=e[0],r=e[1],o=e[2],i=t(r,o),l=t(n,o),s=t(n,r),c=i+l+s;return[(i*n[0]+l*r[0]+s*o[0])/c,(i*n[1]+l*r[1]+s*o[1])/c]},t.centroid=function(e){if(3===e.length){let t=e[0],n=e[1],r=e[2];return[(t[0]+n[0]+r[0])/3,(t[1]+n[1]+r[1])/3]}let t=0;for(let n=0;n<e.length;n++){let r=e[n],o=n===e.length-1?e[0]:e[n+1];t+=r[0]*o[1]-o[0]*r[1]}t/=2;let n=[0,0];for(let t=0;t<e.length;t++){let r=e[t],o=t===e.length-1?e[0]:e[t+1];n[0]=n[0]+(r[0]+o[0])*(r[0]*o[1]-o[0]*r[1]),n[1]=n[1]+(r[1]+o[1])*(r[0]*o[1]-o[0]*r[1])}return[n[0]/(6*t),n[1]/(6*t)]},t.det3=c,t.translate=a;let d=function(e){return function(t,n){let r=e(t),o=e=>e.map(r);return void 0===n?o:o(n)}}(a);t.translatePs=d;let f=function(e){return function(t,n,r){let o=e(t,n),i=e=>e.map(o);return void 0===r?i:i(r)}}(p);function p(e,t,n){d([1,2]);function r(n){return[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}return void 0===n?r:r(n)}t.rotatePs=f,t.rotate=p,t.equal=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.reverseRotate=function(e,t,n){return[+n[0]*t+n[1]*e,-n[0]*e+n[1]*t]},t.rotate90Degrees=function(e){return[-e[1],e[0]]},t.rotateNeg90Degrees=function(e){return[e[1],-e[0]]},t.transform=function(e,t){return[t(e[0]),t(e[1])]},t.getClosestTo=function(e,t){let n=void 0,r=Number.POSITIVE_INFINITY;for(let o=0;o<t.length;o++){let u=t[o],l=i(e,u);l<r&&(n=u,r=l)}return n},t.getObjClosestTo=function(e,t,n){let r=void 0,o=Number.POSITIVE_INFINITY;for(let u=0;u<t.length;u++){let l=t[u],s=i(e,n(l));s<o&&(r=l,o=s)}return r},t.translateThenRotatePs=function(e,t,n,r){const o=a(e);return r.map(e=>p(t,n,o(e)))},t.rotateThenTranslatePs=function(e,t,n,r){return r.map(r=>a(n,p(e,t,r)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(4),i=n(2),u=n(11),l=n(5);class s{constructor(e,t){this.curve=e,this.t=t,this.p_=void 0}get p(){return void 0===this.p_?this.p_=i.evaluate(this.curve.ps,this.t):this.p_}static getOsculatingCircle(e,t){if(s.isSharpCorner(t))return new l.Circle(t.p,0);let n=s.calcOsculatingCircleRadius(t);n<0&&(n=Number.POSITIVE_INFINITY),n=Math.min(n,e);let r=t.curve.ps,o=t.t,u=i.normal(r,o),c=i.evaluate(r,o),a=[c[0]+u[0]*n,c[1]+u[1]*n];return new l.Circle(a,n)}static calcOrder(e,t){if(!s.isDullCorner(t))return 0;let n=s.getCorner(t),o=r.rotateNeg90Degrees(n.tangents[0]),i=r.toUnitVector(r.fromTo(t.p,e.center));return-r.dot(o,i)}}s.calcOsculatingCircleRadius=o.memoize(function(e){let t=e.curve.ps,n=e.t;return 1/-i.κ(t,n)}),s.compare=function(e,t){if(void 0===e||void 0===t)return;let n;return 0!==(n=e.curve.idx-t.curve.idx)?n:n=e.t-t.t},s.compareInclOrder=function(e,t,n,r){let o=s.compare(e,t);if(void 0!==o)return 0!==o?o:o=n-r},s.getCorner=o.memoize(function(e){if(0===e.t||1===e.t)return u.Curve.getCornerAtEnd(1===e.t?e.curve:e.curve.prev)}),s.isSharpCorner=o.memoize(function(e){let t=s.getCorner(e);return t&&t.isSharp}),s.isDullCorner=o.memoize(function(e){let t=s.getCorner(e);return t&&t.isDull}),s.isQuiteSharpCorner=o.memoize(function(e){let t=s.getCorner(e);return t&&t.isQuiteSharp}),s.isQuiteDullCorner=o.memoize(function(e){let t=s.getCorner(e);return t&&t.isQuiteDull}),s.toHumanString=function(e){return e.p[0]+", "+e.p[1]+" | bz: "+e.curve.idx+" | t: "+e.t},t.PointOnShape=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(0),i=n(4),u=n(65),l=n(66),s=n(12);t.getX=s.getX;const c=n(10);t.getY=c.getY;const a=n(27);t.getDx=a.getDx;const d=n(28);t.getDy=d.getDy;const f=n(29);t.evaluateX=f.evaluateX;const p=n(30);t.evaluateY=p.evaluateY;const g=n(13);t.evaluate=g.evaluate;const h=n(31);t.evaluateDx=h.evaluateDx;const _=n(32);t.evaluateDy=_.evaluateDy;const v=n(67),b=n(70),m=n(33);t.tangent=m.tangent;const P=n(34);t.normal=P.normal;const O=n(35);t.from0ToT=O.from0ToT;const x=n(36);t.fromTTo1=x.fromTTo1;const C=n(37);t.fromTo=C.fromTo;const M=n(38);t.toHybridQuadratic=M.toHybridQuadratic;const I=n(39);t.coincident=I.coincident;const y=n(40);t.lineIntersection=y.lineIntersection;const w=n(73);t.bezier3Intersection=w.bezier3Intersection;const T=n(79);t.bezier3IntersectionSylvester=T.bezier3IntersectionSylvester;const N=n(41);t.tsAtX=N.tsAtX;const S=n(42);t.tsAtY=S.tsAtY;const B=n(80);t.BezDebug=B.BezDebug;const j=n(43);t.FatLine=j.FatLine;const D=n(44);t.deCasteljau=D.deCasteljau;const E=n(82);t.evalDeCasteljau=E.evalDeCasteljau;let z=o.rotatePs;t.rotate=z;let L=o.translatePs;t.translate=L;let F=i.memoize(e=>r.default.differentiate(a.getDx(e)));t.getDdx=F;let A=i.memoize(e=>r.default.differentiate(d.getDy(e)));t.getDdy=A;let Y=i.memoize(e=>r.default.differentiate(F(e)));t.getDddx=Y;let R=i.memoize(e=>r.default.differentiate(A(e)));t.getDddy=R;let V=i.memoize(l.default);function H(e,t){const n=h.evaluateDx(e),r=_.evaluateDy(e),o=Z(e),i=K(e);function u(e){let t=n(e),u=r(e),l=o(e);return(t*i(e)-u*l)/Math.sqrt(Math.pow(t*t+u*u,3))}return void 0===t?u:u(t)}t.getBoundingHull=V,t.fromLine=function(e){let[[t,n],[r,o]]=e,i=(r-t)/3,u=(o-n)/3;return[[t,n],[t+i,n+u],[t+2*i,n+2*u],[r,o]]},t.κ=H;let q=H;function X(e,t){const n=h.evaluateDx(e),r=_.evaluateDy(e),o=Z(e),i=K(e);function u(e){let t=n(e),u=r(e),l=o(e);return(t*i(e)-u*l)/(t*t+u*u)}return void 0===t?u:u(t)}function G(e,t){let n=[,,U,k,Q];function r(t){return n[t.length](e,t)}return void 0===t?r:r(t)}function Q(e,t){if(e[0]===e[1])return 0;let[[n,r],[o,i],[l,s],[c,a]]=t;if(n===o&&o===l&&l===c&&r===i&&i===s&&s===a)return 0;const d=function(e,t){const n=h.evaluateDx(e),r=_.evaluateDy(e);function o(e){let t=n(e),o=r(e);return Math.sqrt(t*t+o*o)}return void 0===t?o:o(t)}(t);return u.default(d,e)}function k(e,t){if(e[0]===e[1])return 0;let[[n,r],[o,i],[l,s]]=t;if(n===o&&o===l&&r===i&&i===s)return 0;const c=function(e,t){const n=v.evaluateDx2(e),r=b.evaluateDy2(e);function o(e){let t=n(e),o=r(e);return Math.sqrt(t*t+o*o)}return void 0===t?o:o(t)}(t);return u.default(c,e)}function U(e,t){let[n,r]=e;if(n===r)return 0;let[[i,u],[l,s]]=t;if(i===l&&u===s)return 0;let c=[i+n*(l-i),u+n*(s-u)],a=[i+r*(l-i),u+r*(s-u)];return o.distanceBetween(c,a)}function Z(e,t){const n=F(e),o=r.default.evaluate(n);return void 0===t?o:o(t)}function K(e,t){const n=A(e),o=r.default.evaluate(n);return void 0===t?o:o(t)}t.curvature=q,t.dκMod=function(e,t){let[[n,r],[o,i],[u,l],[s,c]]=e;function a(e){let t=e*e,a=1-e,d=2*e-3*t,f=(3*e-1)*a,p=a*a,g=3*(t*s+d*u-f*o-p*n),h=3*(t*c+d*l-f*i-p*r),_=6*(e*c-(3*e-1)*l+(3*e-2)*i+a*r),v=6*(e*s-(3*e-1)*u+(3*e-2)*o+a*n),b=Math.sqrt(g*g+h*h);return 4*(g*(c-3*l+3*i-r)-h*(s-3*u+3*o-n))*Math.pow(b,3)-(g*_-v*h)*(2*_*h+2*v*g)*b}return void 0===t?a:a(t)},t.totalCurvature=function(e,t){function n(t){return u.default(X(e),t)}return m.tangent(e),void 0===t?n:n(t)},t.totalAbsoluteCurvature=function(e,t){function n(t=[0,1]){return u.default(t=>Math.abs(X(e)(t)),t)}return void 0===t?n:n(t)},t.length=G,t.getTAtLength=function(e,t){let n=oe(e);const o=e=>G([0,e],n);function i(e){return r.default.brent(t=>o(t)-e,0,1)}return void 0===t?i:i(t)},t.evaluateDdx=Z,t.evaluateDdy=K,t.evaluateDddx=function(e,t){const n=Y(e),o=r.default.evaluate(n);return void 0===t?o:o(t)},t.evaluateDddy=function(e,t){const n=R(e),o=r.default.evaluate(n);return void 0===t?o:o(t)};let W=i.memoize(function(e){let[[t,n],[r,i],[u,l],[s,c]]=e,a=Math.sqrt((s-t)*(s-t)+(c-n)*(c-n)),d=(c-n)/a,f=(s-t)/a,p=function(e,t,n){let r=o.transform(e[0],e=>-e),i=o.translateThenRotatePs(r,-t,n,e);return J(i)}(e,d,f),[[g,h],[_,v]]=p,b=[p[0],[_,h],p[1],[g,v]];return o.rotateThenTranslatePs(d,f,e[0],b)});t.getBoundingBoxTight=W;let J=i.memoize(function(e){return $(e).box});t.getBoundingBox=J;let $=i.memoize(function(e){let t=[a.getDx(e),d.getDy(e)].map(e=>r.default.allRoots(e,0,1));t[0].push(0,1),t[1].push(0,1);let n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=void 0,s=void 0,c=void 0,g=void 0;for(let r=0;r<t[0].length;r++){let i=t[0][r],u=f.evaluateX(e,i);u<n&&(n=u,l=i),u>o&&(o=u,c=i)}for(let n=0;n<t[1].length;n++){let r=t[1][n],o=p.evaluateY(e,r);o<i&&(i=o,s=r),o>u&&(u=o,g=r)}return{ts:[[l,s],[c,g]],box:[[n,i],[o,u]]}});function ee(e,t){let[[n,r],[o,i]]=e;return[n*(1-t)+o*t,r*(1-t)+i*t]}function te(e,t){let[[n,r],[o,i],[u,l]]=e;return[n*Math.pow(1-t,2)+2*o*(1-t)*t+u*Math.pow(t,2),r*Math.pow(1-t,2)+2*i*(1-t)*t+l*Math.pow(t,2)]}function ne(e){let[[t,n],[r,o],[i,u]]=e;return[[t,n],[1/3*t+2/3*r,1/3*n+2/3*o],[2/3*r+1/3*i,2/3*o+1/3*u],[i,u]]}function re(e){let[[t,n],[r,o]]=e,i=(r-t)/3,u=(o-n)/3;return[[t,n],[t+1*i,n+1*u],[t+2*i,n+2*u],[r,o]]}function oe(e){return 2===e.length?re(e):3===e.length?ne(e):4===e.length?e:void 0}t.getBounds=$,t.splitAt=function(e,t){let[[n,r],[o,i],[u,l],[s,c]]=e,a=1-t,d=t*t,f=d*t,p=a*a,g=p*a,h=[[n,r],[t*o+a*n,t*i+a*r],[d*u+2*a*t*o+p*n,d*l+2*a*t*i+p*r],[f*s+3*a*d*u+3*p*t*o+g*n,f*c+3*a*d*l+3*p*t*i+g*r]];return[h,[h[3],[d*s+2*t*a*u+p*o,d*c+2*t*a*l+p*i],[t*s+a*u,t*c+a*l],[s,c]]]},t.bezierFromBezierPiece=function(e,t){if(0===t[0]&&1===t[1])return e;if(t[0]===t[1]){let n=g.evaluate(e)(t[0]);return[n,n,n,n]}return 0===t[0]?O.from0ToT(e,t[1]):1===t[1]?x.fromTTo1(e,t[0]):O.from0ToT(x.fromTTo1(e,t[0]),(t[1]-t[0])/(1-t[0]))},t.scale=function(e,t){return e.map(e=>[e[0]*t,e[1]*t])},t.toQuadratic=function(e){let[[t,n],[r,o],[i,u],[l,s]]=e;return[[.95*t+.15*r+-.15*i+.05*l,.95*n+.15*o+-.15*u+.05*s],[-.25*t+.75*r+.75*i+-.25*l,-.25*n+.75*o+.75*u+-.25*s],[.05*t+-.15*r+.15*i+.95*l,.05*n+-.15*o+.15*u+.95*s]]},t.evaluateHybridQuadratic=function(e,t,n){let r=e[0],o=(e[1],e[2]);return te([r,ee(e[1],n),o],t)},t.evaluateLinear=ee,t.clone=function(e){let[[t,n],[r,o],[i,u],[l,s]]=e;return[[t,n],[r,o],[i,u],[l,s]]},t.evaluateQuadratic=te,t.quadraticToCubic=ne,t.linearToCubic=re,t.toCubic=oe,t.reverse=function(e){return e.slice().reverse()},t.equal=function(e,t){let[[n,r],[o,i],[u,l],[s,c]]=e,[[a,d],[f,p],[g,h],[_,v]]=t;return n===a&&o===f&&u===g&&s===_&&r===d&&i===p&&l===h&&c===v}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),o=n(24),i=n(25),u=n(62),l=n(63),s=n(64),c=n(26),a=(r.default.multiply,Object.assign({},r.default,o.default,i.default,s.default,{random:l.default,fromRoots:c.default,allRoots:u.default}));t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="function"==typeof WeakMap;t.memoize=function(e){if(!r)return e;let t=new WeakMap;return function(n){let r=t.get(n);return void 0!==r?r:(r=e(n),t.set(n,r),r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);class o{constructor(e,t){this.center=e,this.radius=t}static scale(e,t){return new o(e.center,e.radius*t)}static engulfsCircle(e,t){if(e.radius<=t.radius)return!1;let n=r.squaredDistanceBetween(e.center,t.center),o=e.radius-t.radius;return o*o>n}static toString(e){return"c: "+e.center+" r: "+e.radius}}t.Circle=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),o=n(45),i=["prev","next","prevOnCircle","nextOnCircle"];class u{constructor(e,t,n,r,o,i,u,l){this.cp=e,this.isHoleClosing=t,this.isIntersection=n,this.prev=r,this.next=o,this.prevOnCircle=i,this.nextOnCircle=u,this.matCurveToNextVertex=l}get children(){let e=this.next;if(this.isTerminating())return[e];let t=[e],n=e;for(;n.nextOnCircle!==e.prevOnCircle;)n=n.nextOnCircle,t.push(n);return t}get vertexChildren(){if(this.isTerminating())return[];let e=this,t=[],n=e;for(;n!==e.prevOnCircle;)n.isTerminating()||t.push(n.next),n=n.nextOnCircle;return t}getAllOnLoop(){let e=this,t=[e],n=this.next;for(;n!==e;)t.push(n),n=n.next;return t}clone(){let e=new Map,t=new u(this.cp,this.isHoleClosing,this.isIntersection);t.matCurveToNextVertex=this.matCurveToNextVertex,e.set(this,t);let n=[{cpNode:this,newCpNode:t}];for(;n.length;){let{cpNode:t,newCpNode:r}=n.pop();for(let o of i){let i=t[o],l=e.get(i);l||((l=new u(i.cp,i.isHoleClosing,i.isIntersection)).matCurveToNextVertex=i.matCurveToNextVertex,e.set(i,l),n.push({cpNode:i,newCpNode:l})),r[o]=l}}return t}static insert(e,t,n,r,i){let l,s,c=new u(r,e,t);return"undefined"!=typeof _debug_&&_debug_.generated.elems.cpNode.push(new o.CpNodeForDebugging(_debug_.generated,c)),i?s=(l=i).next:(l=c,s=c),s.prev=c,l.next=c,c.prev=l,c.next=s,n.insert(c),c}remove(e,t){let n=t.prev,r=t.next;n.next=r,r.prev=n,e.remove(t,!1)}getCpNodesOnCircle(e=!1){let t=this,n=t,r=[];do{e?e=!1:r.push(n),n=n.nextOnCircle}while(n!==t);return r}static isOnSameCircle(e,t){return e.getCpNodesOnCircle(!0).indexOf(t)>=0}isTerminating(){return this===this.next.prevOnCircle}isSharp(){return 0===this.cp.circle.radius}isOneProng(){if(0===this.cp.circle.radius)return!0;let e=this.nextOnCircle,t=this.cp.pointOnShape.p,n=e.cp.pointOnShape.p;return t[0]===n[0]&&t[1]===n[1]}getProngCount(){let e=this,t=e,n=0;do{n++,t=t.nextOnCircle}while(t!==e);return n}getRealProngCount(){return this.isOneProng()?1:this.getProngCount()}}u.comparator=((e,t)=>r.ContactPoint.compare(e.cp,t.cp)),t.CpNode=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.ContactPoint=class{constructor(e,t,n,r){this.pointOnShape=e,this.circle=t,this.order=n,this.order2=r}static compare(e,t){let n=r.PointOnShape.compare(e.pointOnShape,t.pointOnShape);if(void 0!==n)return 0!==n?n:0!=(n=e.order-t.order)?n:e.order2-t.order2}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(2),i=n(1),u=Number.POSITIVE_INFINITY;let l=r.memoize(function(e){let t=[[{bezier:void 0,t:void 0,val:u},{bezier:void 0,t:void 0,val:u}],[{bezier:void 0,t:void 0,val:-u},{bezier:void 0,t:void 0,val:-u}]];return e.curves.forEach(function(e){let n=e.ps,r=o.getBounds(n);for(let n=0;n<2;n++)for(let o=0;o<2;o++){let i=r.box[n][o],u=0===n?-1:1,l=t[n][o].val;(u*i>u*l||i===l&&r.ts[n][o]>t[n][o].t)&&(t[n][o]={bezier:e,t:r.ts[n][o],val:i})}}),{minX:new i.PointOnShape(t[0][0].bezier,t[0][0].t),minY:new i.PointOnShape(t[0][1].bezier,t[0][1].t),maxX:new i.PointOnShape(t[1][0].bezier,t[1][0].t),maxY:new i.PointOnShape(t[1][1].bezier,t[1][1].t)}});t.getLoopBounds=l},function(e,t,n){"use strict";function r(e,t){let n=e.length-1,r=t.length-1,o=n-r,i=0,u=0;o>0?u=-o:o<0&&(i=+o);let s=Math.max(n,r),c=[];for(let n=0;n<s+1;n++){let r=e[n+i],o=t[n+u];c.push((r||0)-(o||0))}return l(c)}function o(e){let t=[],n=e.length-1;for(let r=0;r<n;r++)t.push((n-r)*e[r]);return t}function i(e,t){let n=e.length-1,r=t.length-1,o=n+r,i=new Array(o+1).fill(0);for(let u=0;u<n+1;u++)for(let l=0;l<r+1;l++)i[o-(u+l)]+=e[n-u]*t[r-l];return l(i)}function u(e,t){if(0===e)return[];let n=t.length-1,r=[];for(let o=0;o<n+1;o++)r.push(e*t[o]);return l(r)}function l(e){return 0!==e[0]?e:l(e.slice(1))}function s(e){let t=0;for(let n=0;n<e.length;n++){let r=Math.abs(e[n]);r>t&&(t=r)}return t}Object.defineProperty(t,"__esModule",{value:!0});let c={equal:function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},add:function(e,t){let n=e.length-1,r=t.length-1,o=n-r,i=0,u=0;o>0?u=-o:o<0&&(i=+o);let s=Math.max(n,r),c=[];for(let n=0;n<s+1;n++){let r=e[n+i],o=t[n+u];c.push((r||0)+(o||0))}return l(c)},subtract:r,multiplyByConst:u,negate:function(e){return u(-1,e)},differentiate:o,multiply:i,degree:function(e){return e.length-1},evaluate:function(e,t){function n(t){let n=e[0];for(let r=1;r<e.length;r++)n=e[r]+n*t;return n}return void 0===t?n:n(t)},evaluateAt0:function(e){return e[e.length-1]},signChanges:function(e){let t=e.length-1,n=0,r=Math.sign(e[0]);for(let o=1;o<t+1;o++){let t=Math.sign(e[o]);t!==r&&0!==t&&(n++,r=t)}return n},invert:function(e){return e.slice().reverse()},changeVariables:function(e,t,n){let r=e.length-1,o=[];for(let e=0;e<r+1;e++)o.push(new Array(r+1).fill(0));o[0][0]=1;for(let e=1;e<=r;e++){o[0][e]=n*o[0][e-1];for(let r=1;r<=e;r++)o[r][e]=n*o[r][e-1]+t*o[r-1][e-1]}let i=new Array(r+1).fill(0);for(let t=0;t<=r;t++){i[r-t]=0;for(let n=t;n<=r;n++){let u=o[t][n]*e[r-n];i[r-t]+=u}}return i},reflectAboutYAxis:function(e){let t=e.length-1,n=e.slice();for(let e=0;e<t+1;e++)e%2&&(n[e]=-n[e]);return n},sturmChain:function(e){function t(e,t){e.length,t.length;let n=e[1]/e[0]-t[1]/t[0];return r(i(u(e[0]/t[0],t),[1,n]),e)}let n=[];n.push(e),n.push(o(e));let l=1;for(;n[l].length-1>0;){let e=t(n[l-1],n[l]);for(;n[l].length-e.length<1;)e.shift();n.push(e),l++}return n},clip:function e(t,n){n=void 0===n?Number.EPSILON:n;let r=s(t);if(0===r)return[];if(Math.abs(t[0])>n*r)return t;let o=t.slice(1);for(;Math.abs(o[0])<n*r;)o=o.slice(1);return e(o,n)},clip0:l,deflate:function(e,t){let n=e.length-1,r=[e[0]];for(let o=1;o<n;o++)r.push(e[o]+t*r[o-1]);return r},maxCoefficient:s,toCasStr:function(e){let t=e.length-1,n="";for(let r=0;r<t+1;r++){let o=e[r].toString();n+=r===t?o:r===t-1?"x*"+o+" + ":"x^"+(t-r).toString()+"*"+o+" + "}return n}};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(4).memoize(function(e){let[[,t],[,n],[,r],[,o]]=e;return[o-3*r+3*n-t,3*r-6*n+3*t,3*n-3*t,t]});t.getY=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(2),i=n(0),u=n(83);t.Curve=class{constructor(e,t,n,r,o){this.loop=e,this.ps=t,this.prev=n,this.next=r,this.idx=o}static getCornerAtEnd(e){return l(e)}};let l=r.memoize(function(e){let t=[o.tangent(e.ps,1),o.tangent(e.next.ps,0)],n=i.cross(t[0],t[1]);return new u.Corner(t,n,n<0,n>0,n<-.0167,n>.0167)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(4).memoize(function(e){let[[t],[n],[r],[o]]=e;return[o-3*r+3*n-t,3*r-6*n+3*t,3*n-3*t,t]});t.getX=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),o=n(30);t.evaluate=function(e,t){const[[n,i],,,[u,l]]=e,s=r.evaluateX(e),c=o.evaluateY(e);function a(e){return 0===e?[n,i]:1===e?[u,l]:[s(e),c(e)]}return void 0===t?a:a(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),i=n(47),u=n(108);t.getClosestBoundaryPoint=function(e,t,n,l){e=i.cullBezierPieces(e,t);let s,c=Number.POSITIVE_INFINITY;for(let i=0;i<e.length;i++){let a=e[i],d=u.closestPointOnCurve(a.curve,t,a.ts,n,l);if(void 0===d)continue;let f=r.distanceBetween(d.p,t),p=a.curve,g=d.t;f<c&&(0===g&&(g=1,p=a.curve.prev),s={pos:new o.PointOnShape(p,g),d:f},c=f)}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Mat=class{constructor(e,t){this.cpNode=e,this.cpTrees=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(11),i=n(84),u=n(85);class l{constructor(e=[]){this.beziers=e,this.curves=[];let t,n=this;if(0===e.length)return;let r,i=null;for(let u=0;u<e.length;u++)r=new o.Curve(n,e[u],i,null,u),n.curves.push(r),i&&(i.next=r),i=r,0===u&&(t=r);t.prev=r,r.next=t,this.head=t}toBeziers(){let e=[];for(let t of this.curves)e.push(t.ps);return e}static fromCubicBeziers(e=[]){return new l(e)}static fromBeziers(e=[]){let t=[];for(let n=0;n<e.length;n++){let r=e[n];4===r.length?t.push(r):3===r.length?t.push(i.quadraticToCubic(r)):2===r.length&&t.push(u.linearToCubic(r))}return new l(t)}static perturb(e,t){if(!t)return e;let n=2311,o=[];for(let i=0;i<e.beziers.length;i++){let u=r.default.random.flatCoefficients(6,-1,1,n),l=u.p;n=u.seed;let s=l.map(e=>e*t);console.log(s);let c=e.beziers[i],[[a,d],[f,p],[g,h]]=c,_=[[a+s[0],d+s[1]],[f+s[2],p+s[3]],[g+s[4],h+s[5]],[0,0]];if(0!==i){let e=o[o.length-1];e[3][0]=_[0][0],e[3][1]=_[0][1]}o.push(_)}let i=o[o.length-1];return i[3][0]=o[0][0][0],i[3][1]=o[0][0][1],new l(o)}}t.Loop=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(8);let i=r.memoize(function(e){let t,n,r,i,u=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;for(let a of e){let e=o.getLoopBounds(a);e.minX.p[0]<u&&(t=e.minX,u=e.minX.p[0]),e.maxX.p[0]>l&&(n=e.maxX,l=e.maxX.p[0]),e.minY.p[1]<s&&(r=e.minY,s=e.minY.p[1]),e.maxY.p[1]>c&&(i=e.maxY,c=e.maxY.p[1])}return{minX:t,minY:r,maxX:n,maxY:i}});t.getShapeBounds=i;let u=r.memoize(function(e){let t,n,r,o,u=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;for(let a of e){let e=i(a);e.minX.p[0]<u&&(t=e.minX,u=e.minX.p[0]),e.maxX.p[0]>l&&(n=e.maxX,l=e.maxX.p[0]),e.minY.p[1]<s&&(r=e.minY,s=e.minY.p[1]),e.maxY.p[1]>c&&(o=e.maxY,c=e.maxY.p[1])}return{minX:t,minY:r,maxX:n,maxY:o}});t.getShapesBounds=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(7);t.getNeighbouringPoints=function(e,t,n,i){let u=e.findBounds(new r.CpNode(new o.ContactPoint(t,void 0,n,i),!1,!1));return u[0]||u[1]?u[0]&&u[1]?[u[0].data,u[1].data]:[e.max(e.root),e.min(e.root)]:[void 0,void 0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traverseEdges=function(e,t){let n=e.getCpNodesOnCircle();for(;n.length;){let e=n.pop();t(e),e.isTerminating()||n.push(...e.children)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BezierPiece=class{constructor(e,t){this.curve=e,this.ts=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(18),i=.9986295347545738;t.isAnotherCpCloseby=function(e,t,n,u,l,s,c){const a=1e-12*s;let d=e.get(t.curve.loop),f=o.getNeighbouringPoints(d,t,u,l);if(!f[0])return!1;for(let e of f){let o=e.cp.pointOnShape,u=t.p,l=o.p;if(r.distanceBetween(u,l)>a)continue;let s=r.toUnitVector(r.fromTo(e.cp.pointOnShape.p,e.cp.circle.center)),c=r.toUnitVector(r.fromTo(u,n.center));if(r.dot(s,c)>i)return!0}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(54),i=n(19),u=n(118),l=.01,s=1e-4;t.smoothen=function(e){i.traverseEdges(e,function(e){let t,n=e.cp.circle.center,i=u.getEdgeDirection(e),c=e.next.cp.circle.center,a=u.getEdgeDirection(e.next.prevOnCircle),d=o.lineLineIntersection(i,a),f=r.fromTo(n,c);if(d){let e=r.fromTo(n,d),o=r.fromTo(c,d);t=r.dot(e,f)<0||r.dot(o,f)>0}else t=!0;if(!t)return e.matCurveToNextVertex=[n,d,c],void(e.next.prevOnCircle.matCurveToNextVertex=[c,d,n]);let p=r.rotate90Degrees(f),g=r.fromTo(i[0],i[1]),h=r.fromTo(a[0],a[1]),_=Math.abs(r.cross(f,g))/9,v=Math.abs(r.cross(f,h))/9;if(_>l||v>l)return e.matCurveToNextVertex=[n,c],void(e.next.prevOnCircle.matCurveToNextVertex=[c,n]);if(_>s||v>s){let t=r.interpolate(n,c,1/3),u=r.interpolate(n,c,2/3),l=r.translate(p,t),s=r.translate(p,u),d=[t,l],f=[u,s],g=o.lineLineIntersection(i,d),h=o.lineLineIntersection(a,f);return e.matCurveToNextVertex=[n,g,h,c],void(e.next.prevOnCircle.matCurveToNextVertex=[c,h,g,n])}e.matCurveToNextVertex=[n,c],e.next.prevOnCircle.matCurveToNextVertex=[c,n]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLeaves=function(e){let t=[];return e.getAllOnLoop().forEach(function(e){e.isTerminating()&&t.push(e)}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),{sturmChain:o,evaluate:i,signChanges:u}=r.default;let l={quadraticRoots:function(e){let t,n,[r,o,i]=e,u=o*o-4*r*i;return u<0?[]:0===u?[-o/(2*r)]:(u=Math.sqrt(u),o>=0?(t=(-o-u)/(2*r),n=2*i/(-o-u)):(t=2*i/(-o+u),n=(-o+u)/(2*r)),t<n?[t,n]:[n,t])},numRootsWithin:function(e,t,n){let r=o(e),l=(i(e),r.map(e=>i(e)(t))),s=r.map(e=>i(e)(n));return u(l)-u(s)},brent:function(e,t,n){if(t===n)return t;let r,o=e(t),i=e(n);if(o*i>0)throw new Error("Root not bracketed");if(Math.abs(o)<Math.abs(i)){r=t,t=n,n=r;let e=o;o=i,i=e}r=t;let u,l=!0;for(;;){let s,c=2*Number.EPSILON*Math.abs(n),a=e(r);if(o!==a&&i!==a){let e=o-a,u=o-i,l=i-a;s=((t*i*l-n*o*e)*a+r*o*u*i)/(u*e*l)}else s=n-i*((n-t)/(i-o));let d=(3*t+n)/4,f=Math.abs(n-r),p=Math.abs(s-n),g=Math.abs(r-u);!(s>d&&s<n||s<d&&s>n)||l&&(p>=f/2||f<c)||!l&&(p>=g/2||g<c)?(s=(t+n)/2,l=!0):l=!1;let h=e(s);if(u=r,r=n,o*h<0?n=s:t=s,Math.abs(o)<Math.abs(i)){let e=t;t=n,n=e}if(0===i)return n;if(0===h)return s;if(Math.abs(t-n)<=c)return n;o=e(t),i=e(n)}},bisection:function(e,t,n){if(t===n)return t;n<t&&([t,n]=[n,t]);let r=e(t),o=e(n);if(0===r)return t;if(0===o)return n;if(r*o>0)throw new Error("Root not bracketed");for(;;){let o=t+(n-t)/2,i=e(o);if(0===i)return o;r*i<0?n=o:t=o;let u=2*Number.EPSILON*Math.abs(n);if(Math.abs(t-n)<=u)return n}}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),{invert:o,negate:i,reflectAboutYAxis:u}=r.default;const l=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152];function s(e){let t=e.length-1;if(t<1)return 0;e[0]<0&&(e=i(e));let n=[];for(let e=0;e<t;e++)n.push(1);let r=0;for(let o=0;o<=t;o++){if(e[o]>=0)continue;let t=Number.POSITIVE_INFINITY,i=!1;for(let r=0;r<o;r++){if(e[r]<=0)continue;let u,s=n[r];u=s>20?Math.pow(2,s):l[s];let c=Math.pow(-e[o]/(e[r]/u),1/(o-r));n[r]++,t>c&&(t=c),i=!0}i&&r<t&&(r=t)}return r}function c(e){let t=s(o(e));return 0===t?0:1/t}let a={rootMagnitudeUpperBound_fujiwara:function(e){let t=e.length-1,n=e[0],r=[];for(let o=1;o<t;o++){let t=Math.pow(Math.abs(e[o]/n),1/o);r.push(t)}return r.push(Math.pow(Math.abs(e[t]/2*n),1/t)),2*Math.max.apply(void 0,r)},positiveRootUpperBound_LMQ:s,positiveRootLowerBound_LMQ:c,negativeRootUpperBound_LMQ:function(e){return-c(u(e))},negativeRootLowerBound_LMQ:function(e){return-s(u(e))},rootMagnitudeUpperBound_rouche:function(e){return e.length,1+1/e[0]*function(e){return Math.max(...e.map(e=>Math.abs(e)))}(e.slice(1))}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),{multiply:o}=r.default;t.default=function(e){let t=[1];for(let n=0;n<e.length;n++)t=o(t,[1,-e[n]]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(4),i=n(12);let u=o.memoize(e=>r.default.differentiate(i.getX(e)));t.getDx=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(4),i=n(10);let u=o.memoize(e=>r.default.differentiate(i.getY(e)));t.getDy=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(12);t.evaluateX=function(e,t){const n=o.getX(e),i=r.default.evaluate(n);function u(t){return 0===t?e[0][0]:1===t?e[3][0]:i(t)}return void 0===t?u:u(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(10);t.evaluateY=function(e,t){const n=o.getY(e),i=r.default.evaluate(n);function u(t){return 0===t?e[0][1]:1===t?e[3][1]:i(t)}return void 0===t?u:u(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(27);t.evaluateDx=function(e,t){const n=o.getDx(e),i=r.default.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(28);t.evaluateDy=function(e,t){const n=o.getDy(e),i=r.default.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(31),o=n(32);t.tangent=function(e,t){const n=r.evaluateDx(e),i=o.evaluateDy(e);function u(e){let t=n(e),r=i(e),o=Math.sqrt(t*t+r*r);return[t/o,r/o]}return void 0===t?u:u(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(33);t.normal=function(e,t){const n=r.tangent(e);function o(e){let t=n(e);return[t[1],-t[0]]}return void 0===t?o:o(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.from0ToT=function(e,t){let[[n,r],[o,i],[u,l],[s,c]]=e,a=1-t,d=t*t,f=d*t,p=a*a,g=p*a;return[[n,r],[t*o+a*n,t*i+a*r],[d*u+2*a*t*o+p*n,d*l+2*a*t*i+p*r],[f*s+3*a*d*u+3*p*t*o+g*n,f*c+3*a*d*l+3*p*t*i+g*r]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromTTo1=function(e,t){let[[n,r],[o,i],[u,l],[s,c]]=e,a=1-t,d=t*t,f=d*t,p=a*a,g=p*a;return[[f*s+3*a*d*u+3*p*t*o+g*n,f*c+3*a*d*l+3*p*t*i+g*r],[d*s+2*t*a*u+p*o,d*c+2*t*a*l+p*i],[t*s+a*u,t*c+a*l],[s,c]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),o=n(35),i=n(36);t.fromTo=function(e){return function(t,n){if(t===n){let n=r.evaluate(e,t);return[n,n,n,n]}if(0===t&&1===n)return e;if(0===t)return o.from0ToT(e,n);if(1===n)return i.fromTTo1(e,t);let u=i.fromTTo1(e,t);return o.from0ToT(u,(n-t)/(1-t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHybridQuadratic=function(e){let[[t,n],[r,o],[i,u],[l,s]]=e;return[[t,n],[[(3*r-t)/2,(3*o-n)/2],[(3*i-l)/2,(3*u-s)/2]],[l,s]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(13),i=n(40),u=n(34);function l(e,t,n){let l=o.evaluate(e)(n),s=u.normal(e)(n),c=r.translate(l,s),a=i.lineIntersection(t,[l,c]),d=void 0,f=void 0,p=Number.POSITIVE_INFINITY;for(let e of a){let n=o.evaluate(t)(e),i=r.distanceBetween(n,l);i<p&&(d=e,f=n,p=i)}return{t:d,p:f,d:p}}t.coincident=function(e,t,n=1e-6){let r=[.01,.99].map(n=>l(e,t,n)),o=[.01,.99].map(n=>l(t,e,n)),i=.01,u=.99,s=.01,c=.99;r[0].d<=n&&(i=r[0].t),r[1].d<=n&&(u=r[1].t),o[0].d<=n&&(s=o[0].t),o[1].d<=n&&(c=o[1].t),s>c&&([s,c]=[c,s]),i>u&&([i,u]=[u,i]);let a=c-s;if(a<.1&&u-i<.1)return;for(let r=0;r<10;r++){let o=s+a*(r/10),{d:i}=l(e,t,o);if(i>n)return}return{p:[s,c],q:[i,u]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(0),i=n(10);t.lineIntersection=function(e,t){let[[n,u],[l,s]]=t,[c,a]=[l-n,s-u];if(0===c&&0===a)return[];e=o.translatePs([-n,-u],e);let d=Math.sqrt(c*c+a*a),f=a/d,p=c/d;return e=o.rotatePs(-f,p,e),r.default.allRoots(i.getY(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(12);t.tsAtX=function(e,t){return e=e.map(e=>[e[0]-t,e[1]]),r.default.allRoots(o.getX(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(10);t.tsAtY=function(e,t){return e=e.map(e=>[e[0],e[1]-t]),r.default.allRoots(o.getY(e),0,1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FatLine=class{constructor(e,t,n){this.l=e,this.minD=t,this.maxD=n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deCasteljau=function(e,t){function n(t){if(0===t)return[[e[0],e[0],e[0],e[0]],e];if(1===t)return[e,[e[3],e[3],e[3],e[3]]];let n=1-t,r=e[0],o=e[1],i=e[2],u=e[3],l=r*n+o*t,s=o*n+i*t,c=i*n+u*t,a=l*n+s*t,d=s*n+c*t,f=a*n+d*t;return[[r,l,a,f],[f,d,c,u]]}return void 0===t?n:n(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CpNodeForDebugging=class{constructor(e,t){this.generated=e,this.cpNode=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.X=class{constructor(e,t=!1,n,r,o){this.pos=e,this.isDummy=t,this.opposite=n,this.loopTree=r,this.outPs=o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(104),o=n(105),i=n(106);t.cullBezierPieces=function(e,t){if(e.length>0){let n=r.getBestDistanceSquared(e,t);e=o.cullByLooseBoundingBox(e,t,n),e=i.cullByTightBoundingBox(e,t,n)}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.getClosestSquareDistanceToRect=function(e,t){let[[n,o],[i,u]]=e,[l,s]=t;if(l<n){if(s<o)return r.squaredDistanceBetween(e[0],t);if(s>u)return r.squaredDistanceBetween([n,u],t);{let e=n-l;return e*e}}if(l>i){if(s<o)return r.squaredDistanceBetween([i,o],t);if(s>u)return r.squaredDistanceBetween(e[1],t);{let e=l-i;return e*e}}if(s<o){let e=o-s;return e*e}if(s>u){let e=s-u;return e*e}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14);t.getClosestPoints=function(e,t){return t.map(t=>{let n=r.getClosestBoundaryPoint(t,e,void 0,void 0);return n?n.pos:void 0})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),o=n(1),i=n(7);function u(e,t,n,o){let i=t;do{let t=(i=i.next)===n?o:1;e.push(new r.BezierPiece(i,[0,t]))}while(i!==n)}t.getBoundaryPieceBeziers=function(e){let t=e[0],n=e[1],l=[],s=!0;do{if(!s){s=!0,t=t.prevOnCircle;continue}s=!1;let e=t.cp.pointOnShape,n=t.next.cp.pointOnShape;n.curve===e.curve&&o.PointOnShape.isQuiteSharpCorner(e)&&o.PointOnShape.isQuiteSharpCorner(n)||(n.curve===e.curve&&i.ContactPoint.compare(t.next.cp,t.cp)>0?l.push(new r.BezierPiece(e.curve,[e.t,n.t])):(l.push(new r.BezierPiece(e.curve,[e.t,1])),u(l,e.curve,n.curve,n.t))),t=t.next}while(t!==n);return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),o=n(6),i=n(18);t.addToCpGraph=function(e,t,n,u,l){let s=u.map((u,s)=>{let c=n.get(u.curve.loop),a=new r.ContactPoint(u,e,t[s],0),d=l?l[s]:i.getNeighbouringPoints(c,u,t[s],0);return o.CpNode.insert(!1,!1,c,a,d[0])}),c=u.length;for(let e=0;e<c;e++){let t=0===e?c-1:e-1,n=e===c-1?0:e+1;s[e].prevOnCircle=s[t],s[e].nextOnCircle=s[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(113),o=n(53),i=n(114);function u(e){return e&&e.color===o.default.RED}function l(e,t){let n=t.indexOf(e);-1!==n&&t.splice(n,1)}function s(e,t){const n=e?i.default.LEFT:i.default.RIGHT,r=t[n];return t[n]=r[e],r[e]&&(r[e].parent=t),r[e]=t,t.parent=r,r.color=t.color,t.color=o.default.RED,r}function c(e){return e===o.default.RED?o.default.BLACK:o.default.RED}function a(e){e.color=c(e.color),e[i.default.LEFT].color=c(e[i.default.LEFT].color),e[i.default.RIGHT].color=c(e[i.default.RIGHT].color)}function d(e){if(a(e),u(e[i.default.RIGHT][i.default.LEFT])){let t=s(i.default.RIGHT,e[i.default.RIGHT]);e[i.default.RIGHT]=t,t.parent=e,a(e=s(i.default.LEFT,e))}return e}function f(e){return u(e[i.default.RIGHT])&&(e=s(i.default.LEFT,e)),u(e[i.default.LEFT])&&u(e[i.default.LEFT][i.default.LEFT])&&(e=s(i.default.RIGHT,e)),u(e[i.default.LEFT])&&u(e[i.default.RIGHT])&&a(e),e}t.default=class{constructor(e,t,n){this.getMinNode=this.getMinOrMaxNode(i.default.LEFT),this.getMaxNode=this.getMinOrMaxNode(i.default.RIGHT);const r=this;if(r.setComparator(e,n),r.replaceDups=n,r.root=null,t)for(let e of t)r.insert(e)}setComparator(e,t){this.compare=t?e:(t,n)=>e(t,n[0])}isEmpty(){return!this.root}find(e){const t=this;let n=this.root;for(;n;){let r=t.compare(e,n.data);if(0===r)return n;n=n[r>0?i.default.RIGHT:i.default.LEFT]}return null}toArrayInOrder(){let e=[];return function t(n){n&&(t(n[i.default.LEFT]),e.push(n),t(n[i.default.RIGHT]))}(this.root),e}insert(e){const t=this;t.root=function e(n,o){if(!n)return new r.default(o,!t.replaceDups);let l=t.compare(o,n.data);if(0===l)t.replaceDups?n.data=o:n.data.push(o);else{let t=l>0?i.default.RIGHT:i.default.LEFT;n[t]=e(n[t],o),n[t].parent=n}return u(n[i.default.RIGHT])&&!u(n[i.default.LEFT])&&(n=s(i.default.LEFT,n)),u(n[i.default.LEFT])&&u(n[i.default.LEFT][i.default.LEFT])&&(n=s(i.default.RIGHT,n)),u(n[i.default.LEFT])&&u(n[i.default.RIGHT])&&a(n),n}(t.root,e),t.root.color=o.default.BLACK,t.root.parent=void 0}remove(e,t){const n=this;n.root=function e(r,o){let c=n.compare(o,r.data);return!n.replaceDups&&0===c&&!t&&r.data.length>1?(l(o,r.data),r):c<0&&!r[i.default.LEFT]||c>0&&!r[i.default.RIGHT]?r:c<0?(u(r[i.default.LEFT])||u(r[i.default.LEFT][i.default.LEFT])||(r=d(r)),r[i.default.LEFT]=e(r[i.default.LEFT],o),r[i.default.LEFT]&&(r[i.default.LEFT].parent=r),f(r)):u(r[i.default.LEFT])&&(r=s(i.default.RIGHT,r),c=n.compare(o,r.data),!n.replaceDups&&0===c&&!t&&r.data.length>1)?(l(o,r.data),r):0!==c||r[i.default.RIGHT]?u(r[i.default.RIGHT])||u(r[i.default.RIGHT][i.default.LEFT])||(r=function(e){return a(e),u(e[i.default.LEFT][i.default.LEFT])&&a(e=s(i.default.RIGHT,e)),e}(r),c=n.compare(o,r.data),n.replaceDups||0!==c||t||!(r.data.length>1))?(0===c?(r.data=n.min(r[i.default.RIGHT]),r[i.default.RIGHT]=function e(t){return t[i.default.LEFT]?(u(t[i.default.LEFT])||u(t[i.default.LEFT][i.default.LEFT])||(t=d(t)),t[i.default.LEFT]=e(t[i.default.LEFT]),t[i.default.LEFT]&&(t[i.default.LEFT].parent=t),f(t)):null}(r[i.default.RIGHT])):r[i.default.RIGHT]=e(r[i.default.RIGHT],o),r[i.default.RIGHT]&&(r[i.default.RIGHT].parent=r),f(r)):(l(o,r.data),r):null}(n.root,e),n.root&&(n.root.color=o.default.BLACK,n.root.parent=void 0)}findBounds(e){const t=this;let n=t.root,r=[void 0,void 0];if(null===n)return r;for(;n;){const o=t.compare(e,n.data);o>=0?r[0]=n:r[1]=n,n=n[o>=0?i.default.RIGHT:i.default.LEFT]}return r}findBoundsExcl(e){const t=this;let n=t.root,r=[void 0,void 0];return null===n?r:(function n(o){for(;o;){let u=t.compare(e,o.data);if(0===u)return n(o[i.default.LEFT]),void n(o[i.default.RIGHT]);u>0?r[0]=o:u<0&&(r[1]=o),o=o[u>0?i.default.RIGHT:i.default.LEFT]}}(n),r)}findAllInOrder(e){const t=this;let n=[];return function r(o){for(;o;){let u=t.compare(e,o.data);if(0===u)return r(o[i.default.LEFT]),n.push(o),void r(o[i.default.RIGHT]);o=o[u>0?i.default.RIGHT:i.default.LEFT]}}(t.root),n}getMinOrMaxNode(e){return function(t){if(t){for(;t[e];)t=t[e];return t}}}min(e){return this.getMinNode(e).data}max(e){return this.getMaxNode(e).data}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BLACK=0]="BLACK",e[e.RED=1]="RED"}(r||(r={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lineLineIntersection=function(e,t){let[[n,r],[o,i]]=e,[[u,l],[s,c]]=t,a=o-n,d=i-r,f=s-u,p=c-l,g=f*d-p*a;if(0===g)return;let h=((l-r)*a-(u-n)*d)/g;return[u+h*f,l+h*p]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(2),i=n(54),u=n(14),l=n(5),s=n(1),c=n(121),a=n(122),d=n(124),f=n(125),p=n(126),g=n(127);function h(e,t,n,o){let u=Math.pow(1e-4*e,2);if(r.squaredDistanceBetween(t,o)<u)return;let l=[(t[0]+o[0])/2,(t[1]+o[1])/2],s=[o[0]-t[0],o[1]-t[1]],c=[-s[1],s[0]],a=[l[0]+c[0],l[1]+c[1]],d=i.lineLineIntersection([t,n],[l,a]);if(!d)return;let f=[d[0]-t[0],d[1]-t[1]],p=[n[0]-t[0],n[1]-t[1]];return r.dot(f,p)<0?void 0:d}t.find2Prong=function(e,t,n,i,_,v,b){const m=Math.pow(1e-6*t,2),P=Math.pow(1e-4,2),O=.01*m,x=n;let C,M,I,{bezierPieces:y,"δ":w}=p.getInitialBezierPieces(v,b,e,i,_);v?(C=[(M=[_.p[0],_.p[1]])[0],M[1]-Math.sqrt(x)],I=x):(M=_.p,C=s.PointOnShape.getOsculatingCircle(x,_).center,I=r.squaredDistanceBetween(M,C));let T=function(e,t,n,i){const u=.001*e;let l=void 0,s=Number.POSITIVE_INFINITY;for(let u=0;u<t.length;u++){let c=t[u],a=c.curve.ps,d=o.evaluate(a),f=d(c.ts[0]),p=Number.POSITIVE_INFINITY;if(!l||l[0]!==f[0]||l[1]!==f[1]){let t=h(e,n,i,f);t&&(p=r.squaredDistanceBetween(n,t))}let g=Number.POSITIVE_INFINITY,_=d(c.ts[1]),v=h(e,n,i,_);v&&(g=r.squaredDistanceBetween(n,v)),l=_;let b=Math.min(p,g);b<s&&(s=b)}return s+u}(t,y,M,C);I>T&&(C=r.interpolate(M,C,Math.sqrt(T/I)));let N,S=[],B=0,j=0,D=!1,E=y,z=void 0;do{B++;let e=r.squaredDistanceBetween(C,_.p);if(E=d.cullBezierPieces(E,C,e),void 0===(N=u.getClosestBoundaryPoint(E,C,_.curve,_.t))){if("undefined"!=typeof _debug_){let e=_debug_.generated.elems,t=v?e.twoProng_holeClosing:e.twoProng_regular,n=v?"hole-closing: "+t.length:"regular: "+t.length;console.log("failed: no closest point - "+n)}D=!0;break}"undefined"!=typeof _debug_&&S.push({x:C,y:_,z:N.pos,t:_.t});let t=r.squaredDistanceBetween(C,N.pos.p);if(1===B&&e<t+P)return void c.add1Prong(Math.sqrt(x),i,_);if(!v&&r.squaredDistanceBetween(_.p,N.pos.p)<=m){if("undefined"!=typeof _debug_){let e=_debug_.generated.elems,t=v?e.twoProng_holeClosing:e.twoProng_regular;t.length}D=!0;break}let n=f.findEquidistantPointOnLine(C,_.p,N.pos.p),o=r.squaredDistanceBetween(C,n);if(z=C,C=n,o<O)j++;else if(25===B){D=!0;break}}while(j<1);let L,F=[];return D||(F=g.getCloseBoundaryPoints(E,C,_.curve,_.t,r.distanceBetween(C,N.pos.p))).length||F.push(N),void 0!==N&&(L=new l.Circle(C,r.distanceBetween(C,N.pos.p))),"undefined"==typeof _debug_||D||(S.push({x:C,y:_,z:N.pos,t:_.t}),a.addDebugInfo(y,D,_,L,N.pos,w,S,v)),D?void 0:{circle:L,zs:F}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTwoProngType=function(e){return e.holeClosing?"twoProng_holeClosing":"twoProng_regular"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(7),i=n(1),u=n(21),l=n(18);t.add2Prong=function(e,t,n,s,c,a){let d,f=i.PointOnShape.calcOrder(t,n),p=s.map(e=>i.PointOnShape.calcOrder(t,e.pos)),g=n.t;0===g&&(g=1,d=n.curve.prev,n=new i.PointOnShape(d,g));let h=!1;for(let n=0;n<s.length;n++){let r=s[n],o=p[n];if(u.isAnotherCpCloseby(e,r.pos,t,o,0,a,"red")){h=!0;break}}if(u.isAnotherCpCloseby(e,n,t,f,0,a,"red")||h)return void("undefined"!=typeof _debug_&&(c?_debug_.generated.elems.twoProng_holeClosing.pop():_debug_.generated.elems.twoProng_regular.pop()));let _=[],v=[],b=[],m=[],P=[];for(let n=0;n<s.length;n++){let i=s[n],u=p[n],a=new o.ContactPoint(i.pos,t,u,0);v.push(a);let d=i.pos.curve.loop;P.push(d);let f=e.get(d);b.push(f);let g=l.getNeighbouringPoints(f,i.pos,u,0);m.push(g),_.push(r.CpNode.insert(c,!1,f,a,g[0]))}let O=new o.ContactPoint(n,t,f,0),x=n.curve.loop,C=e.get(x),M=l.getNeighbouringPoints(C,n,f,0),I=r.CpNode.insert(c,!1,C,O,M[0]);if(1===_.length)I.prevOnCircle=_[0],I.nextOnCircle=_[0],_[0].prevOnCircle=I,_[0].nextOnCircle=I;else{let e=_.slice();e.push(I),e.sort(r.CpNode.comparator);for(let t=0;t<e.length;t++){let n=t+1===e.length?0:t+1,r=0===t?e.length-1:t-1,o=e[t],i=e[n],u=e[r];o.nextOnCircle=i,o.prevOnCircle=u}}if(c){let e=new o.ContactPoint(s[0].pos,t,v[0].order,1),i=r.CpNode.insert(!0,!1,b[0],e,_[0]),u=new o.ContactPoint(n,t,O.order,-1),l=r.CpNode.insert(!0,!1,C,u,I.prev);l.prevOnCircle=i,l.nextOnCircle=i,i.prevOnCircle=l,i.nextOnCircle=l,_[0].next=I,I.prev=_[0],l.next=i,i.prev=l}if("undefined"!=typeof _debug_){let e,t=(e=c?_debug_.generated.elems.twoProng_holeClosing:_debug_.generated.elems.twoProng_regular)[e.length-1];I||console.log("asas"),t.cpNode=I}return I}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52),o=n(6);t.createNewCpTree=function(e){let t=new Map;return e.getAllOnLoop().forEach(function(e){let n=e.cp.pointOnShape.curve.loop,i=t.get(n);i||(i=new r.default(o.CpNode.comparator,[],!0),t.set(n,i)),i.insert(e)}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traverseVertices=function(e,t){t(e),e.getCpNodesOnCircle().filter(e=>!e.isTerminating()).map(e=>e.next).forEach(function(e){let n=[e];for(;n.length;){let e=n.pop();t(e),n.push(...e.vertexChildren)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawCirclePercent=function(e,t,n,r){let o=document.createElementNS("http://www.w3.org/2000/svg","circle");return o.setAttributeNS(null,"cx",t[0].toString()),o.setAttributeNS(null,"cy",t[1].toString()),o.setAttributeNS(null,"r",n.toString()+"%"),o.setAttributeNS(null,"class",r),e.appendChild(o),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15);t.Mat=r.Mat;const o=n(16);t.Loop=o.Loop;const i=n(11);t.Curve=i.Curve;const u=n(6);t.CpNode=u.CpNode;const l=n(1);t.PointOnShape=l.PointOnShape;const s=n(5);t.Circle=s.Circle;const c=n(7);t.ContactPoint=c.ContactPoint;const a=n(20);t.BezierPiece=a.BezierPiece;const d=n(86);t.findMats=d.findMats;const f=n(135);t.trimMat=f.trimMat;const p=n(137);t.toScaleAxis=p.toScaleAxis;const g=n(19);t.traverseEdges=g.traverseEdges;const h=n(59);t.traverseVertices=h.traverseVertices;const _=n(141);t.MatDebug=_.MatDebug;const v=n(45);t.CpNodeForDebugging=v.CpNodeForDebugging;const b=n(14);t.getClosestBoundaryPoint=b.getClosestBoundaryPoint;const m=n(164);t.closestPointOnBezier=m.closestPointOnBezier;const P=n(165);t.getPathsFromStr=P.getPathsFromStr;const O=n(183);t.beziersToSvgPathStr=O.beziersToSvgPathStr;const x=n(17);t.getShapeBounds=x.getShapeBounds,t.getShapesBounds=x.getShapesBounds;const C=n(184);t.getBoundaryBeziersToNext=C.getBoundaryBeziersToNext},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),o=n(24),i=n(25),{clip0:u,evaluate:l,differentiate:s,toCasStr:c}=r.default,{brent:a,quadraticRoots:d}=o.default,{rootMagnitudeUpperBound_fujiwara:f,positiveRootUpperBound_LMQ:p,positiveRootLowerBound_LMQ:g,negativeRootUpperBound_LMQ:h,negativeRootLowerBound_LMQ:_}=i.default,v=Number.POSITIVE_INFINITY;t.default=function e(t,n=-v,r=+v){let o=(t=u(t)).length-1,i=function(e,t){return n=>n>=e&&n<=t}(n,r);if(2===o)return d(t).filter(i);if(o>2){let o,u;n===-v||r===+v?(o=n===-v?_(t):n,u=r===+v?p(t):r):(o=n,u=r);let c=e(s(t),o,u).filter(i);return c[0]!==o&&c.unshift(o),c[c.length-1]!==u&&c.push(u),function(e,t){let n,r=[],o=l(e),i=t[0];for(let e=1;e<t.length;e++){let u,l=t[e],s=o(i),c=o(l),d=s*c;0===d?0===s?u=i:0===c&&e===t.length-1&&(u=l):s*c<0&&(u=a(o,i,l)),void 0!==u&&u!==n&&(r.push(u),n=u),i=l}return r}(t,c)}return 1===o?[-t[1]/t[0]].filter(i):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(26),o=123456789,i=4294967296;function u(e){return function(t,n,r,i,u=o,l=0){let s=[];for(let o=0;o<t;o++){let t=e(n,r,i,u,l),o=t.p;u=t.seed,s.push(o)}return s}}function l(e){return(134775813*e+1)%i}function s(e,t,n,r=o,u=0){let s=[];for(let o=0;o<e;o++){r=c(r=l(r),s,r/i*(n-t)+t,u)}return{vs:s=s.slice(0,e),seed:r}}function c(e,t,n,r){return e=l(e),t.push(n),e/i<r&&(e=c(e,t,n,r)),e}function a(e,t=0,n=1,i=o,u=0){let l=s(e,t,n,i,u);return i=l.seed,{p:r.default(l.vs),seed:i}}function d(e,t=-1,n=1,r=o){let i=s(e,t=void 0===t?-1:t,n=void 0===n?1:n,r=void 0===r?o:r);return r=i.seed,{p:i.vs,seed:r}}let f={flatRoots:a,flatRootsArr:u(a),flatCoefficients:d,flatCoefficientsArr:u(d)};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),{evaluate:o}=r.default;let i={hornerErrorBound:function(e,t){const n=Number.EPSILON;return 2*(e.length-1)*n*function(e,t){let n=e.length-1,r=0;for(let o=0;o<n;o++)r+=Math.abs(e[o]*Math.pow(t,n-o));return r}(e,t)}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]}};t.default=function(e,t,n=16){if(t[0]===t[1])return 0;let{weights:o,abscissas:i}=r[n],[u,l]=t,s=0,c=(l-u)/2,a=(l+u)/2;for(let t=0;t<=n-1;t++)s+=o[t]*e(c*i[t]+a);return c*s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=1e-10;function i(e,t,n){if(t===n)return;let r=e[t];e[t]=e[n],e[n]=r}t.default=function(e,t=!1,n=o){function u(e,o,i){let u=r.ccw(e,o,i,n);return t?u<0:u<=0}t=!!t;let l=e.slice(),s=l.length,c=function(e){let t,n=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];for(let r=0;r<e.length;r++){let o=e[r][1];(o<n[1]||o===n[1]&&e[r][0]<n[0])&&(t=r,n=e[r])}return t}(l),[a]=l.splice(c,1);(l=function(e,t){let n=[];for(let t=0;t<e.length;t++)n.push(t);n.sort(function(n,r){let o=t(e[n],e[r]);return 0!==o?o:n-r});let r=[];for(let t=0;t<e.length;t++)r.push(e[n[t]]);return r}(l,function(e,t){let o=r.cross(r.fromTo(a,t),r.fromTo(a,e));return 0!==(o=Math.abs(o)<n?0:o)?o:(o=e[1]-t[1],0!==(o=Math.abs(o)<n?0:o)?o:e[0]-t[0])})).unshift(a);let d=1;for(let e=2;e<s;e++){for(;u(l[d-1],l[d],l[e]);)if(d>1)d-=1;else{if(e===s-1){d-=1;break}e+=1}i(l,d+=1,e)}return l.slice(0,d+1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(68);t.evaluateDx2=function(e,t){const n=o.getDx2(e),i=r.default.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(4),i=n(69);let u=o.memoize(e=>r.default.differentiate(i.getX2(e)));t.getDx2=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(4).memoize(function(e){let[[t],[n],[r]]=e;return[r-2*n+t,2*n-2*t,t]});t.getX2=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(71);t.evaluateDy2=function(e,t){const n=o.getDy2(e),i=r.default.evaluate(n);return void 0===t?i:i(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(4),i=n(72);let u=o.memoize(e=>r.default.differentiate(i.getY2(e)));t.getDy2=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(4).memoize(function(e){let[[,t],[,n],[,r]]=e;return[r-2*n+t,2*n-2*t,t]});t.getY2=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(39),o=n(37),i=n(74),u=n(76),l=n(77),s=n(78),c=n(13),a=n(43);t.bezier3Intersection=function(e,t,n,d){const f=192*Number.EPSILON;void 0===n&&(n=0),n=Math.max(n,f),void 0===d&&(d=1e-6),d=Math.max(d,1e-6);let p=0,g=[];"undefined"!=typeof _bez_debug_&&(_bez_debug_.generated.elems.beziers.push([e,t]),_bez_debug_.generated.elems.fatLine.push(new a.FatLine([[0,0],[1e-10,1e-10]],0,0)));let h={ps1:e,ps2:t,tRange1:[0,1],tRange2:[0,1],idx:1},_=[];for(_.push(h);0!==_.length;){let e=_.pop(),{ps1:t,ps2:n,tRange1:r,tRange2:o,idx:i}=e;v(t,n,r,o,i)}if("undefined"!=typeof _bez_debug_)for(let t of g)_bez_debug_.generated.elems.intersection.push(c.evaluate(e,t[0]));return g;function v(c,d,f,h,v){let b=0===v?1:0;[d,c]=s.center(d,c),"undefined"!=typeof _bez_debug_&&_bez_debug_.generated.elems.beziers.push([d,c]);let m,P,O,[x,,,C]=c;4===++p&&(p=0),m=i.getDistanceToLineFunction([x,C]);let[M,I]=[1,2].map(e=>m(c[e])),y=M*I>0?.75:4/9;P=y*Math.min(0,M,I),O=y*Math.max(0,M,I),"undefined"!=typeof _bez_debug_&&_bez_debug_.generated.elems.fatLine.push(new a.FatLine([x,C],P,O));let{tMin:w,tMax:T}=l.geoClip(d,m,P,O);if(w===Number.POSITIVE_INFINITY)return;if(T-w>.7){let e=h[1]-h[0],t=f[1]-f[0];if(void 0!==r.coincident(d,c))return;e<=t&&(b=v,[d,c]=[c,d],[h,f]=[f,h]);let n=h[1]-h[0],i=h[0],u=i+n/2,l=u,s=h[1],a=o.fromTo(d)(0,.5),p=o.fromTo(d)(.5,1);return _.push({ps1:a,ps2:c,tRange1:[i,u],tRange2:f,idx:b}),void _.push({ps1:p,ps2:c,tRange1:[l,s],tRange2:f,idx:b})}let N=h[1]-h[0],S=w*N+h[0],B=T*N+h[0];if(d=o.fromTo(d)(w,T),Math.abs(B-S)<n){let n=(B+S)/2,r=0===v?[e,t]:[t,e],o=u.calcOtherT(n,r[0],r[1]);if(void 0===o)return;let i=0===v?[n,o]:[o,n];g.push(i)}else _.push({ps1:d,ps2:c,tRange1:[S,B],tRange2:f,idx:b})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(75);t.getDistanceToLineFunction=function(e){let[t,n,o]=r.getLineEquation(e);return function(e){return t*e[0]+n*e[1]+o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLineEquation=function(e){let[[t,n],[r,o]]=e,i=n-o,u=r-t,l=t*o-r*n,s=Math.sqrt(Math.pow(i,2)+Math.pow(u,2));return[i/s,u/s,l/s]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(13),i=n(41),u=n(42);t.calcOtherT=function(e,t,n){let l=Math.max(t[0][0],t[0][1],t[1][0],t[1][1],t[2][0],t[2][1],t[3][0],t[3][1],n[0][0],n[0][1],n[1][0],n[1][1],n[2][0],n[2][1],n[3][0],n[3][1]),s=o.evaluate(t)(e),[c,a]=s,d=u.tsAtY(n,a),f=i.tsAtX(n,c);if(!d.length&&!f.length)return;let p=[...d,...f],g=void 0,h=Number.POSITIVE_INFINITY;for(let e of p){let t=o.evaluate(n)(e),i=r.squaredDistanceBetween(s,t);i<h&&(h=i,g=e)}let _=6144*Number.EPSILON*l;return h>_*_?void 0:g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(38);t.geoClip=function(e,t,n,i){let u=o.toHybridQuadratic(e),l=t(u[0]),s=t(u[2]),c=t(u[1][0]),a=t(u[1][1]),d=Math.min(c,a),f=Math.max(c,a),p=[l-2*d+s,-2*l+2*d,l],g=[l-2*f+s,-2*l+2*f,l],h=2*Math.max(r.default.hornerErrorBound(p,1),r.default.hornerErrorBound(g,1));n-=h,i+=h;let _=p.slice();_[2]=_[2]-n;let v=p.slice();v[2]=v[2]-i;let b=g.slice();b[2]=b[2]-n;let m=g.slice();m[2]=m[2]-i;let P=Number.POSITIVE_INFINITY,O=Number.NEGATIVE_INFINITY,x=r.default.allRoots(_,0,1),C=r.default.allRoots(v,0,1),M=r.default.allRoots(b,0,1),I=r.default.allRoots(m,0,1);return P=Math.min(...x,...C,...M,...I),O=Math.max(...x,...C,...M,...I),l>=n&&l<=i&&(P=0),s>=n&&s<=i&&(O=1),P<0&&(P=0),O>1&&(O=1),{tMin:P,tMax:O}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.center=function(e,t){let n,o,[i,u,l,s]=e,[c,a,d,f]=t,p=r.squaredDistanceBetween(i,u)+r.squaredDistanceBetween(u,l)+r.squaredDistanceBetween(l,s);return r.squaredDistanceBetween(c,a)+r.squaredDistanceBetween(a,d)+r.squaredDistanceBetween(d,f)<p?(n=(c[0]+a[0]+d[0]+f[0])/4,o=(c[1]+a[1]+d[1]+f[1])/4):(n=(i[0]+u[0]+l[0]+s[0])/4,o=(i[1]+u[1]+l[1]+s[1])/4),[e=e.map(e=>[e[0]-n,e[1]-o]),t=t.map(e=>[e[0]-n,e[1]-o])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(0),i=n(12),u=n(10);let l=4;t.bezier3IntersectionSylvester=function(e,t){let n,s,[c,a]=e[0],[d,f]=t[0];if(Math.abs(c-d)>1e-12){let r=(c-d)/(a-f),i=r*r,u=i/(1+i),l=u/r;n=o.rotatePs(u,l,e),s=o.rotatePs(u,l,t)}else n=e,s=t;let[p,g,h,_]=i.getX(n),[v,b,m,P]=u.getY(n),[O,x,C,M]=i.getX(s),[I,y,w,T]=u.getY(s),[N,S,B,j,D,E]=[O,p,x,g,C,h],[z,L,F,A,Y,R]=[I,v,y,b,w,m],V=T-P,H=N*N,q=S*S,X=B*B,G=j*j,Q=D*D,k=E*E,U=z*z,Z=L*L,K=F*F,W=A*A,J=Y*Y,$=R*R,ee=V*V,te=X*B,ne=G*j,re=Q*D,oe=k*E,ie=ee*V,ue=j*V,le=j*ee,se=S*ue,ce=S*le,ae=B*V,de=B*ee,fe=S*V,pe=S*ee,ge=[-q*V*E*$+se*E*A*R+2*fe*k*L*R-G*V*E*L*R-q*le*R-fe*k*W+ue*k*L*A-2*q*ee*E*A+G*pe*A-V*oe*Z+3*ce*E*L-ne*ee*L-q*S*ie,q*V*D*$+2*q*V*E*Y*R-se*D*A*R-4*fe*D*E*L*R+G*V*D*L*R-se*E*A*Y-2*fe*k*L*Y+G*V*E*L*Y+q*le*Y+2*fe*D*E*W-2*ue*D*E*L*A+2*q*ee*D*A+3*V*D*k*Z-3*ce*D*L,-2*q*V*D*Y*R-S*ae*E*A*R-se*E*F*R+2*B*ue*E*L*R+2*fe*Q*L*R+q*de*R-q*V*E*J+se*D*A*Y+4*fe*D*E*L*Y-G*V*D*L*Y-fe*Q*W+2*fe*k*F*A-ae*k*L*A+ue*Q*L*A-2*S*B*le*A-ue*k*L*F+2*q*ee*E*F-S*G*ee*F-3*V*Q*E*Z-3*S*de*E*L+3*B*G*ee*L,2*N*fe*E*$-N*ue*E*A*R+S*ae*D*A*R+se*D*F*R-2*N*V*k*L*R-2*B*ue*D*L*R-2*fe*k*z*R+G*V*E*z*R+2*N*ce*R+q*V*D*J+S*ae*E*A*Y+se*E*F*Y-2*B*ue*E*L*Y-2*fe*Q*L*Y-q*de*Y+N*V*k*W-4*fe*D*E*F*A+2*ae*D*E*L*A-ue*k*z*A+4*N*pe*E*A-N*G*ee*A+2*ue*D*E*L*F-2*q*ee*D*F+V*re*Z+2*V*oe*z*L-3*N*le*E*L+3*S*de*D*L-3*ce*E*z+ne*ee*z+3*N*q*ie,-2*N*fe*D*$-4*N*fe*E*Y*R+N*ue*D*A*R+S*ae*E*F*R+4*N*V*D*E*L*R-X*V*E*L*R+4*fe*D*E*z*R-G*V*D*z*R+N*ue*E*A*Y-S*ae*D*A*Y-se*D*F*Y+2*N*V*k*L*Y+2*B*ue*D*L*Y+2*fe*k*z*Y-G*V*E*z*Y-2*N*ce*Y-2*N*V*D*E*W+2*fe*Q*F*A-ae*Q*L*A+2*ue*D*E*z*A-4*N*pe*D*A+S*X*ee*A-fe*k*K+ae*k*L*F-ue*Q*L*F+2*S*B*le*F-6*V*D*k*z*L+3*N*le*D*L-3*X*le*L+3*ce*D*z,4*N*fe*D*Y*R+N*ae*E*A*R+N*ue*E*F*R-S*ae*D*F*R-2*N*V*Q*L*R+X*V*D*L*R-2*B*ue*E*z*R-2*fe*Q*z*R-2*N*S*de*R+2*N*fe*E*J-N*ue*D*A*Y-S*ae*E*F*Y-4*N*V*D*E*L*Y+X*V*E*L*Y-4*fe*D*E*z*Y+G*V*D*z*Y+N*V*Q*W-2*N*V*k*F*A+ae*k*z*A-ue*Q*z*A+2*N*B*le*A+2*fe*D*E*K-2*ae*D*E*L*F+ue*k*z*F-4*N*pe*E*F+N*G*ee*F+6*V*Q*E*z*L+3*N*de*E*L+3*S*de*E*z-3*B*G*ee*z,-H*V*E*$-N*ae*D*A*R-N*ue*D*F*R+2*N*V*k*z*R+2*B*ue*D*z*R-H*le*R-2*N*fe*D*J-N*ae*E*A*Y-N*ue*E*F*Y+S*ae*D*F*Y+2*N*V*Q*L*Y-X*V*D*L*Y+2*B*ue*E*z*Y+2*fe*Q*z*Y+2*N*S*de*Y+4*N*V*D*E*F*A-2*ae*D*E*z*A-2*H*ee*E*A-fe*Q*K+ae*Q*L*F-2*ue*D*E*z*F+4*N*pe*D*F-S*X*ee*F-2*V*re*z*L-3*N*de*D*L+te*ee*L-V*oe*U+3*N*le*E*z-3*S*de*D*z-3*H*(S*ie),H*V*D*$+2*H*V*E*Y*R-N*ae*E*F*R-4*N*V*D*E*z*R+X*V*E*z*R+N*ae*D*A*Y+N*ue*D*F*Y-2*N*V*k*z*Y-2*B*ue*D*z*Y+H*le*Y-2*N*V*Q*F*A+ae*Q*z*A+2*H*ee*D*A-N*X*ee*A+N*V*k*K-ae*k*z*F+ue*Q*z*F-2*N*B*le*F+3*V*D*k*U-3*N*le*D*z+3*X*le*z,-2*H*V*D*Y*R+N*ae*D*F*R+2*N*V*Q*z*R-X*V*D*z*R+H*de*R-H*V*E*J+N*ae*E*F*Y+4*N*V*D*E*z*Y-X*V*E*z*Y-2*N*V*D*E*K+2*ae*D*E*z*F+2*H*ee*E*F-3*V*Q*E*U-3*N*de*E*z,H*V*D*J-N*ae*D*F*Y-2*N*V*Q*z*Y+X*V*D*z*Y-H*de*Y+N*V*Q*K-ae*Q*z*F-2*H*ee*D*F+N*X*ee*F+V*re*U+3*N*de*D*z-te*ee*z+H*N*ie],he=r.default.allRoots(ge,0),_e=[];for(let e=0;e<he.length;e++){let t=he[e],n=t*t,o=n*t,c={x:[p*o,g*n,h*t,_],y:[v*o,b*n,m*t,P]},a=r.default.subtract(i.getX(s),c.x),d=r.default.subtract(u.getY(s),c.y),f=r.default.allRoots(a,0,1),O=r.default.allRoots(d,0,1);for(let e=0;e<f.length;e++){let n=f[e];for(let e=0;e<O.length;e++){let r=O[e];if(Math.abs(n-r)<l){let e=(n+r)/2,o=e*t;e>=0&&e<=1&&o>=0&&o<=1&&_e.push([o,e])}}}}return _e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(81);t.BezDebug=class{constructor(e,t){this.draw=e,this.g=t,this.generated={elems:{beziers:[],fatLine:[],looseBoundingBox:[],tightBoundingBox:[],extreme:[],boundingHull:[],intersection:[]}},this.fs={draw:e,drawElem:r.drawElemFunctions}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);let o={beziers:function(e,t){let n=_bez_debug_.fs.draw,r=n.bezier(e,t[0],"blue thin5 nofill"),o=n.bezier(e,t[1],"green thin5 nofill"),i=function(e){let t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(let i of e)i[0]<t&&(t=i[0]),i[1]<n&&(n=i[1]),i[0]>r&&(r=i[0]),i[1]>o&&(o=i[1]);let i=r-t,u=o-n;return Math.max(i,u)}([...t[0],...t[1]])/400,u=[...n.dot(e,t[0][0],i,"blue"),...n.dot(e,t[0][1],i,"blue"),...n.dot(e,t[0][2],i,"blue"),...n.dot(e,t[0][3],i,"blue"),...n.dot(e,t[1][0],i,"green"),...n.dot(e,t[1][1],i,"green"),...n.dot(e,t[1][2],i,"green"),...n.dot(e,t[1][3],i,"green")];return[...r,...o,...u]},intersection:function(e,t){return _bez_debug_.fs.draw.crossHair(e,t,"red thin5 nofill",.05)},extreme:function(e,t){return _bez_debug_.fs.draw.crossHair(e,t.p,"red thin10 nofill",.05)},boundingHull:function(e,t){return _bez_debug_.fs.draw.polygon(e,t,"thin5 black nofill")},looseBoundingBox:function(e,t){return _bez_debug_.fs.draw.rect(e,t,"thin5 brown nofill")},tightBoundingBox:function(e,t){return _bez_debug_.fs.draw.polygon(e,t,"thin5 black nofill")},fatLine:function(e,t){let n=_bez_debug_.fs.draw,{l:o,minD:i,maxD:u}=t,[l,s]=o;const c=1024;let a=r.fromTo(l,s),d=[+c*a[0],+c*a[1]],f=[-c*a[0],-c*a[1]],p=[-a[1],a[0]],g=r.toLength(p,i),h=r.toLength(p,u),_=r.translate(l,f),v=r.translate(s,d),b=[r.translate(_,g),r.translate(v,g)],m=[r.translate(_,h),r.translate(v,h)],P=n.line(e,b),O=n.line(e,m);return[...P,...O]}};t.drawElemFunctions=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(44);t.evalDeCasteljau=function(e,t){const[[n,o],[i,u],[l,s],[c,a]]=e;let d=r.deCasteljau([n,i,l,c]),f=r.deCasteljau([o,u,s,a]);function p(e){return 0===e?[n,o]:1===e?[c,a]:[d(e)[1][0],f(e)[1][0]]}return void 0===t?p:p(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Corner=class{constructor(e,t,n,r,o,i){this.tangents=e,this.crossTangents=t,this.isSharp=n,this.isDull=r,this.isQuiteSharp=o,this.isQuiteDull=i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quadraticToCubic=function(e){let[t,n,r]=e;return[t,[t[0]+2/3*(n[0]-t[0]),t[1]+2/3*(n[1]-t[1])],[r[0]+2/3*(n[0]-r[0]),r[1]+2/3*(n[1]-r[1])],r]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linearToCubic=function(e){let[t,n]=e,r=(n[0]-t[0])/3,o=(n[1]-t[1])/3;return[t,[t[0]+r,t[1]+o],[t[0]+2*r,t[1]+2*o],n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(15),i=n(8),u=n(87),l=n(99),s=n(100),c=n(112),a=n(115),d=n(116),f=n(117),p=n(22),g=n(119),h=n(129),_=n(133);function v(e,t,n=3){let r=l.getExtreme(e);a.addDebugInfo1(e);let i=h.createGetInterestingPointsOnLoop(n),u=e.map(i),v=d.getPotential2Prongs(u),b=f.getSharpCorners(u),m=new Map,P=c.createInitialCpGraph(e,m,b,t);if(_.findAndAddHoleClosing2Prongs(e,m,r),"undefined"!=typeof _debug_&&_debug_.directives.stopAfterHoleClosers)return;if(a.addDebugInfo2(u),P=g.findAndAdd2ProngsOnAllPaths(e,m,v,r),"undefined"!=typeof _debug_&&_debug_.directives.stopAfterTwoProngs)return;if(a.addDebugInfo3(),void 0===P)return;if(s.findAndAddAll3Prongs(m,P,r),"undefined"!=typeof _debug_&&_debug_.directives.stopAfterThreeProngs)return;let O=new o.Mat(P,m);return p.smoothen(O.cpNode),a.addDebugInfo4(O),O}function b(e,t){let n=i.getLoopBounds(e),r=i.getLoopBounds(t);return n.minY.p[1]-r.minY.p[1]}t.findMats=function(e,t=3){"undefined"!=typeof _debug_&&(_debug_.generated.timing.simplify[0]=performance.now());let n=e.map(e=>r.Loop.fromBeziers(e)),{loopss:o,xMap:i}=u.simplifyPaths(n);if("undefined"!=typeof _debug_){let e=_debug_.generated.timing;e.simplify[1]+=performance.now()-e.simplify[0]}let l=[];for(let e of o){e.sort(b);let n=v(e,i,t);n&&l.push(n)}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(8),i=n(88),u=n(91),l=n(97);function s(e){let t=[],n=[e];for(;n.length;){r(n.pop())}return t;function r(e){Math.abs(e.windingNum)<=1&&t.push(e);for(let t of e.children)n.push(t)}}function c(e,t){let n=o.getLoopBounds(e),r=o.getLoopBounds(t);return n.minY.p[1]-r.minY.p[1]}t.simplifyPaths=function(e){let t=i.getIntersections(e),n=new Set,o={parent:void 0,children:new Set,beziers:void 0,loop:void 0,orientation:void 0,windingNum:0};if(e.sort(c),"undefined"!=typeof _debug_)for(let t of e)_debug_.fs.nameObj(t);for(let r of e){if(r.curves.length<=1)continue;if(n.has(r))continue;n.add(r);let e=l.getTightestContainingLoop(o,r);u.completePath(t,n,e,r)}let a=function(e){let t=[],n=[e];for(;n.length;){let e=n.pop();for(let r of e.children)0===e.windingNum&&t.push(r),n.push(r);0===e.windingNum&&(e.children=new Set)}return t}(o).map(s).map(e=>e.map(e=>r.Loop.fromCubicBeziers(e.beziers))),d=new Map;for(let e of t)for(let t of e[1])t.isDummy||(d.set(t.outPs,{ps:t.opposite.outPs}),"undefined"!=typeof _debug_&&_debug_.generated.elems.intersection.push(t));return{loopss:a,xMap:d}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(46),i=n(1),u=n(89),l=n(90),s=1e-10;function c(e,t,n){let r=t.slice();if((!(Math.abs(n[0])<s&&Math.abs(n[1]-1)<s||Math.abs(n[0]-1)<s&&Math.abs(n[1])<s||Math.abs(n[0])<s&&Math.abs(n[1])<s||Math.abs(n[0]-1)<s&&Math.abs(n[1]-1)<s)||r[0].next!==r[1]&&r[1].next!==r[0])&&!(Math.abs(n[0]-1)<s&&(r[0]=r[0].next,n[0]=0,u.pairSet_has(e,[r[0],r[1]]))||Math.abs(n[1]-1)<s&&(r[1]=r[1].next,n[1]=0,u.pairSet_has(e,[r[0],r[1]]))))return r}t.getIntersections=function(e){let{boxes:t,boxInfoMap:n}=function(e){let t=new Map,n=[];for(let o of e)o.curves.forEach(function(e){let i=r.getBoundingBox(e.ps);n.push(i),t.set(i,{box:i,loop:o,curve:e})});return{boxes:n,boxInfoMap:t}}(e),s=l.findBbIntersections(t),a=new Map,d=new Map;for(let e=0;e<s.length;e++){let{box1:t,box2:l}=s[e],f=[n.get(t).curve,n.get(l).curve];if(u.pairSet_has(d,f))continue;u.pairSet_add(d,f);let p=f.map(e=>e.ps),g=r.bezier3Intersection(p[0],p[1]);if(g.length)for(let e of g){let t=c(d,f,e);if(void 0===t)continue;let n=[];for(let r of[0,1]){let u=t[r],l=new o.X(new i.PointOnShape(u,e[r])),s=a.get(u)||[];s.length||a.set(u,s),s.push(l),n.push(l)}n[0].opposite=n[1],n[1].opposite=n[0]}}return a}},function(e,t,n){"use strict";function r(e,t){function n(t,n){let r=e.get(t);r||(r=new Set,e.set(t,r)),r.add(n)}o(e,t)||(n(t[0],t[1]),n(t[1],t[0]))}function o(e,t){let n,r=(n=e.get(t[0]))&&n.has(t[1]),o=(n=e.get(t[1]))&&n.has(t[0]);return r||o}Object.defineProperty(t,"__esModule",{value:!0}),t.pairSet_add=r,t.pairSet_has=o,t.pairSet_asArray=function(e){let t=[],n=new Map;for(let i of e)for(let e of i[1]){let u=[i[0],e];o(n,u)||(t.push(u),r(n,u))}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=0,o=1;t.findBbIntersections=function(e){let t=[];for(let n=0;n<e.length;n++){let r=e[n],o=r[0][0]<r[1][0]?0:1,u=0===o?1:0;t.push(new i(0,r,r[o])),t.push(new i(1,r,r[u]))}t.sort(i.compare);let n=new Set,l=[];for(let e=0;e<t.length;e++){let i=t[e],s=i.box;if(i.type===r){for(let e of n.values())u(s,e)&&l.push({box1:s,box2:e});n.add(s)}else i.type===o&&n.delete(i.box)}return l};class i{constructor(e,t,n){this.type=e,this.box=t,this.p=n}static compare(e,t){let n=e.p[0]-t.p[0];return 0!==n?n:e.box===t.box?e.type===o?-1:1:e.type===r?1:-1}}function u(e,t){let[[,n],[,r]]=e,[[,o],[,i]]=t;return n>r&&([n,r]=[r,n]),o>i&&([o,i]=[i,o]),n===o?n!==r&&o!==i:n<o?!(r<=o):n>o?!(i<=n):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=n(92),i=n(94),u=n(96);t.completePath=function(e,t,n,l){let s=i.getInitialX(e,n,l),c=s.pos.curve,a=e.get(c)||[];0===a.length&&e.set(c,a),a.push(s);let d=[s],f=new Set;for(;d.length;){let n=d.pop();if(t.add(n.pos.curve.loop),f.has(n))continue;let i=u.getLoopMetrics(n);i.beziers=o.completeLoop(e,f,d,i,n),i.loop=r.Loop.fromCubicBeziers(i.beziers)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(93);function i(e,t,n){if(t&&!t.isDummy){(e?t:t.opposite).outPs=n,t=void 0}}t.completeLoop=function(e,t,n,u,l){let s=[],c=0===u.windingNum&&-1===u.orientation||0!==u.windingNum&&1===u.orientation,a=c?l.pos:l.opposite.pos,d=a.curve,f=a.t,p=d,g=f,h=l.isDummy?void 0:c?l.opposite:l,_=!0;for(;;){let l=e.get(p),a=l?o.getNextX(l,g,!c,_):void 0;if(a){if(_=!0,g!==a.pos.t){let e=c?r.reverse(r.fromTo(p.ps)(a.pos.t,g)):r.fromTo(p.ps)(g,a.pos.t);s.push(e),i(c,h,e),h=a}p=a.opposite.pos.curve,g=a.opposite.pos.t;let e=c?a.opposite:a;e.loopTree=u,t.has(e.opposite)||n.push(e.opposite),t.add(e)}else{if(_=!1,g!==(c?0:1)){let e=c?r.reverse(r.fromTo(p.ps)(0,g)):r.fromTo(p.ps)(g,1);s.push(e),i(c,h,e),h=void 0}p=c?p.prev:p.next,g=c?1:0}if(p===d&&g===f)break}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextX=function(e,t,n,r){let o=void 0,i=Number.POSITIVE_INFINITY;for(let u=0;u<e.length;u++){let l=e[u],s=l.pos.t,c=n?s-t:t-s;(c>0||0===c&&!r)&&c<i&&(o=l,i=c)}return o},t.getThisX=function(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos.t-t==0)return r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(95),i=n(8),u=n(46);t.getInitialX=function(e,t,n){let l={parent:t,children:new Set,beziers:[],loop:void 0,orientation:o.isPathPositivelyOrientated(n)?-1:1,windingNum:t.windingNum},s=i.getLoopBounds(n).minX;e.get(s.curve)||(s=new r.PointOnShape(s.curve,0));let c=new u.X(s,!0,void 0,l);return c.opposite=c,c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(0),i=n(4),u=n(8);let l=i.memoize(function(e){let t,n=u.getLoopBounds(e).minX,i=n.t;0===i?(t=n.curve.prev,i=1):t=n.curve;let l=t.ps,s=r.tangent(l)(i);if(1!==i)return s[1]<0;let c=t.next.ps,a=r.tangent(c)(0);return s[1]*a[1]>0?s[1]<0:o.cross(s,a)>0});t.isPathPositivelyOrientated=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(0);t.getLoopMetrics=function(e){let t,n,i,u=e.opposite.loopTree,l=u.orientation,s=u.windingNum,c=e.opposite.pos.curve.ps,a=e.pos.curve.ps;if(c!==a){let d=r.tangent(c,e.opposite.pos.t),f=r.tangent(a,e.pos.t),p=o.cross(d,f)>0,g=p&&1===l||!p&&-1===l;t=g?-1*l:1*l,n=s+(g?-2*l:l),i=g?u.parent:u}else n=s+(t=1===l?-1:1),i=u.parent;let d={parent:i,children:new Set,beziers:void 0,loop:void 0,orientation:t,windingNum:n};return i.children.add(d),d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(98);t.getTightestContainingLoop=function(e,t){let n=void 0,o=[e];for(;o.length;)i(o.pop());return n;function i(i){if(i===e||r.isLoopInLoop([t,i.loop])){n=i;for(let e of i.children)o.push(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(2),i=n(1),u=n(8),l=1e-6;t.isLoopInLoop=function(e){let t=0,n=1231;do{t++;let i=r.default.random.flatCoefficients(1,0,1,n),u=i.p[0];n=i.seed;let l=e[0].curves.length,c=r.default.random.flatCoefficients(1,0,l,n),a=Math.floor(c.p[0]);n=c.seed;let d=e[0].curves[a].ps,f=s(e,o.evaluate(d,u));if(void 0!==f)return f}while(t<10);return;function s(e,t){if(function(e){let t=e.map(u.getLoopBounds).map(e=>({minX:e.minX.p[0],maxX:e.maxX.p[0],minY:e.minY.p[1],maxY:e.maxY.p[1]}));return t[0].minX<t[1].minX||t[0].maxX>t[1].maxX||t[0].minY<t[1].minY||t[0].maxY>t[1].maxY}(e))return!1;let n=function(e,t,n){let[u,s]=t,c=e.curves,a=[];for(let e=0;e<c.length;e++){let d=c[e],f=d.ps,[[p,g],[h,_]]=o.getBoundingBox(f),v=("left"===n||"right"===n)&&(g>s||_<s)||("up"===n||"down"===n)&&(p>u||h<u);if(v=v||"left"===n&&p>u||"right"===n&&h<u||"down"===n&&g>s||"up"===n&&_<s)continue;let b,m,P,O=[],x="left"===n||"up"===n;"left"===n||"right"===n?(b=o.getY,m=[0,-s],P=0):(b=o.getX,m=[-u,0],P=1);let C=o.translate(m,f),M=b(C),I=o.evaluate(C),y=r.default.allRoots(M,0-l,1+l);for(let e=0;e<y.length;e++){let n=y[e];if(Math.abs(n)<l||Math.abs(n-1)<l)return;let r=I(n);(x&&t[P]>=r[P]||!x&&t[P]<=r[P])&&O.push(n)}if(1===O.length||3===O.length)for(let e of O){let t=o.tangent(f,e);if(("left"===n||"right"===n)&&Math.abs(t[1])<l||("down"===n||"up"===n)&&Math.abs(t[0])<l)return}a.push(...O.map(e=>new i.PointOnShape(d,e)))}return a}(e[1],t,"left");return n?n.length%2!=0:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17);t.getExtreme=function(e){let t=r.getShapeBounds(e);return Math.max(Math.abs(t.minX.p[0]),Math.abs(t.minY.p[1]),Math.abs(t.maxX.p[0]),Math.abs(t.maxY.p[1]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(101),i=n(111);function u(e,t,n){function r(t,n){let r=e.get(t);r||(r=new Set,e.set(t,r)),r.add(n)}void 0!==t&&(r(t,n),r(n,t))}function l(e,t,n){let r,o=(r=e.get(t))&&r.has(n),i=(r=e.get(n))&&r.has(t);return o||i}function s(e){let t=e;if(t===t.next.prevOnCircle)return[t];let n=[];do{n.push(t);let e=t.next.prevOnCircle;t=t=t===e?t.next.next:e}while(t!==e);return n}function c(e,t,n){let r;do{(r=s(t)).length>2&&a(e,r,n)}while(r.length>2);return r}function a(e,t,n){let u=[];for(let e of t)u.push([e,e.next]);let l=o.find3Prong(u,n),s=[];for(let e=0;e<3;e++)s.push(r.PointOnShape.calcOrder(l.circle,l.ps[e]));let c=i.add3Prong(e,s,l);"undefined"!=typeof _debug_&&function(e,t){let n=_debug_.generated.elems.threeProng,r=n.length,o=n[r-1];o.visitedCps=t,o.circle=e}(c,t)}t.findAndAddAll3Prongs=function(e,t,n){let o=new Map,i=[{fromCpNode:void 0,cpStart:t}];for(;i.length;){let{fromCpNode:t,cpStart:s}=i.shift();u(o,t,s);for(let t of s.getCpNodesOnCircle())r.PointOnShape.isSharpCorner(t.cp.pointOnShape)||c(e,t,n),l(o,t,t.next)||i.push({fromCpNode:s,cpStart:t.next})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(102),i=n(103),u=n(50);t.find3Prong=function(e,t){let n=e.map(u.getBoundaryPieceBeziers);if("undefined"!=typeof _debug_){let e=_debug_.generated.elems.threeProng;e.push(new o.ThreeProngForDebugging);let t=e[e.length-1];t.boundaries=[];for(let e of n){let n=[];t.boundaries.push(n);for(let t of e){let e=r.fromTo(t.curve.ps)(t.ts[0],t.ts[1]);n.push(e)}}t.traces=[]}let l,s=[],c=void 0,a=Number.POSITIVE_INFINITY;for(let r=1;r<e.length-1;r++)for(let o=0;o<3;o++){if("undefined"!=typeof _debug_){let e=_debug_.generated.elems.threeProng,t=[];e[e.length-1].traces.push(t)}let u=i.find3ProngForDelta3s(e,r,o,n,t);if(!u)continue;let{circle:d,ps:f,error:p,"δ3s":g}=u;"undefined"!=typeof _debug_&&s.push({circle:d,ps:f}),p<a&&(a=p,c=r-1,l={circle:d,ps:f,"δ3s":g})}if("undefined"!=typeof _debug_){let t=_debug_.generated.elems.threeProng,n=t[t.length-1];n.generated=_debug_.generated,n.circle=l.circle,n.poss=l.ps,n.cp3ss=l.δ3s,n.cpss=e,n.bestIndx=c,n.candidateThreeProngs=s}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.ThreeProngForDebugging=class{constructor(){}get cpsSimple(){return this.cpss.map(e=>[r.PointOnShape.toHumanString(e[0].cp.pointOnShape),r.PointOnShape.toHumanString(e[1].cp.pointOnShape)])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(2),i=n(5),u=n(1),l=n(14),s=n(109),c=n(49),a=n(110),d=n(11),f=r.fromTo;t.find3ProngForDelta3s=function(e,t,n,p,g){const h=1e-10*g;let _,v,b=[e[0],e[t],e[e.length-1]],m=[p[0],p[t],p[e.length-1]],P=[[b[0],b[1],b[2]],[b[1],b[2],b[0]],[b[2],b[0],b[1]]][n],O=[[m[0],m[1],m[2]],[m[1],m[2],m[0]],[m[2],m[0],m[1]]][n];if(P[0][0].isSharp())return;let x=0,C=s.calcInitial3ProngCenter(P,O);if("undefined"!=typeof _debug_){let e=_debug_.generated.elems.threeProng,t=e[e.length-1];t.traces[t.traces.length-1].push(C)}let M=Number.POSITIVE_INFINITY;for(;M>h&&x<10;){if(x++,_=c.getClosestPoints(C,O),!Number.isFinite(C[0])||!Number.isFinite(C[1]))return;v=r.circumCenter(_.map(e=>e.p));let e=f(C,v);if(!Number.isFinite(e[0])||!Number.isFinite(e[1]))return;let t=a.calcBetterX(O,C,e);if(C=t.newX,_=t.newPs,"undefined"!=typeof _debug_){let e=_debug_.generated.elems.threeProng,t=e[e.length-1];t.traces[t.traces.length-1].push(C)}let n=r.len(e);M=Math.abs(n-t.newV)}let I=(r.distanceBetween(C,_[0].p)+r.distanceBetween(C,_[1].p)+r.distanceBetween(C,_[2].p))/3,y=new i.Circle(C,I),w=0;for(let e=0;e<3;e++){let t=_[e],n=r.toUnitVector(r.fromTo(t.p,C)),i=r.rotate90Degrees(n);if(u.PointOnShape.isDullCorner(t)){let e=d.Curve.getCornerAtEnd(t.curve).tangents.map(r.rotate90Degrees),o=Math.asin(r.cross(e[0],n)),i=Math.asin(r.cross(n,e[1])),u=0;o>0&&(u+=o),i>0&&(u+=i),w+=u}else{let e=r.toUnitVector(o.tangent(t.curve.ps,t.t));w+=Math.abs(Math.asin(r.cross(i,e)))}}let T=[];for(let e=0;e<p.length;e++){let t=l.getClosestBoundaryPoint(p[e],C,void 0,void 0);T.push(r.distanceBetween(t.pos.p,C))}let N=Math.min(...T);return{ps:_,circle:y,error:1*Math.abs(I-N)+1*w,"δ3s":P}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(0);t.getBestDistanceSquared=function(e,t){let n=Number.POSITIVE_INFINITY;for(let i=0;i<e.length;i++){let u=e[i],l=u.curve.ps,s=r.evaluate(l),c=s(u.ts[0]),a=s(u.ts[1]),d=Math.min(o.squaredDistanceBetween(t,c),o.squaredDistanceBetween(t,a));d<n&&(n=d)}return 1.01*n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(48);t.cullByLooseBoundingBox=function(e,t,n){let i=[];for(let u=0;u<e.length;u++){let l=e[u],s=l.curve.ps,c=r.getBoundingBox(s);o.getClosestSquareDistanceToRect(c,t)<=n&&i.push(l)}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(107);t.cullByTightBoundingBox=function(e,t,n){let i=[];for(let u=0;u<e.length;u++){let l=e[u],s=l.curve.ps,c=r.getBoundingBoxTight(s);o.getClosestSquaredDistanceToRotatedRect(c,t)<=n&&i.push(l)}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.getClosestSquaredDistanceToRotatedRect=function(e,t){let n=[0,1,2,3].map(n=>r.squaredDistanceBetweenPointAndLineSegment(t,[e[n],e[(n+1)%4]])),o=r.squaredDistanceBetween(e[0],e[1]),i=r.squaredDistanceBetween(e[0],e[3]);return n[0]<=i&&n[2]<=i&&n[1]<=o&&n[3]<=o?0:Math.min(...n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(0),i=n(2);t.closestPointOnCurve=function(e,t,n=[0,1],u,l){let[[s,c],[a,d],[f,p],[g,h]]=e.ps,[_,v]=t,b=s-_,m=a-_,P=f-_,O=g-_,x=c-v,C=d-v,M=p-v,I=h-v,y=b*b,w=6*b*m,T=6*b*P,N=2*b*O,S=9*m*m,B=18*m*P,j=6*m*O,D=9*P*P,E=6*P*O,z=x*x,L=6*x*C,F=6*x*M,A=2*x*I,Y=9*C*C,R=18*C*M,V=6*C*I,H=9*M*M,q=6*M*I,X=[6*(O*O-E+j-N+D-B+T+S-w+y+(I*I-q+V-A+H-R+F+Y-L+z)),5*(E-2*j+3*N-2*D+3*B-4*T-4*S+5*w-6*y+(q-2*V+3*A-2*H+3*R-4*F-4*Y+5*L-6*z)),4*(j-3*N+D-3*B+6*T+6*S-10*w+15*y+(V-3*A+H-3*R+6*F+6*Y-10*L+15*z)),3*(N+B-4*T-4*S+10*w-20*y+(A+R-4*F-4*Y+10*L-20*z)),2*(T+S-5*w+15*y+(F+Y-5*L+15*z)),w-6*y+(L-6*z)];e===u&&(X=r.default.deflate(X,l));let G=r.default.allRoots(X,n[0],n[1]),Q=!0,k=!0;(1===l&&e===u.next||e===u&&0===l)&&(Q=!1),(0===l&&e===u.prev||e===u&&1===l)&&(k=!1),0===n[0]?Q&&G.push(0):1===n[0]?k&&G.push(1):G.push(n[0]),0===n[1]?Q&&G.push(0):1===n[1]?k&&G.push(1):G.push(n[1]);let U=[];for(let e=0;e<G.length;e++){let t=G[e];0!==t&&t<1e-11?t=0:1!==t&&1-t<1e-11&&(t=1),U.push(t)}let Z=i.evaluate(e.ps),K=U.map(e=>({p:Z(e),t:e}));return o.getObjClosestTo(t,K,e=>e.p)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(14);t.calcInitial3ProngCenter=function(e,t){let n=e[0][0].cp.circle.center,i=o.getClosestBoundaryPoint(t[1],n,void 0,void 0),u=[e[0][0].cp.pointOnShape.p,i.pos.p,e[2][1].cp.pointOnShape.p];return r.circumCenter(u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(49);t.calcBetterX=function(e,t,n){let i,u,l,s,c=r.len(n),a=1,d=0;do{let f=r.scale(n,a);u=r.translate(f,t),l=o.getClosestPoints(u,e);let p=r.circumCenter(l.map(e=>e.p)),g=r.fromTo(u,p);i=(s=r.len(g))<c,a/=2,d++}while(!i&&d<3);return{newX:u,newV:s,newPs:l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51),o=n(21);t.add3Prong=function(e,t,n){let{circle:i,ps:u,"δ3s":l}=n;return o.isAnotherCpCloseby(e,u[0],i,t[0],0,1e3,"blue"),o.isAnotherCpCloseby(e,u[1],i,t[1],0,1e3,"blue"),o.isAnotherCpCloseby(e,u[2],i,t[2],0,1e3,"blue"),r.addToCpGraph(i,t,e,u,l),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52),o=n(5),i=n(6),u=n(7);t.createInitialCpGraph=function(e,t,n,l){let s;for(let c=0;c<n.length;c++){let a=n[c],d=new r.default(i.CpNode.comparator,[],!0),f=void 0,p=void 0;for(let e of a){let t=e.curve.next.ps,n=!!l.get(t),r=new o.Circle(e.p,0),s=new u.ContactPoint(e,r,-1,0),c=new u.ContactPoint(e,r,1,0);f=i.CpNode.insert(!1,n,d,s,p),p=i.CpNode.insert(!1,n,d,c,f),f.prevOnCircle=p,p.prevOnCircle=f,f.nextOnCircle=p,p.nextOnCircle=f}s||(s=f);let g=e[c];t.set(g,d)}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(53);t.default=class{constructor(e,t){this.data=t?[e]:e,this.color=r.default.RED}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(r||(r={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(1);t.addDebugInfo1=function(e){if("undefined"==typeof _debug_)return;for(let t of e)_debug_.fs.nameObj(t,"l|");let t=_debug_.generated;t.timing.holeClosers[0]=performance.now(),t.elems.loop.push(...e),t.elems.loops.push(e);for(let n of e){let e=0;n.curves.forEach(function(n){let o=n.ps,i=r.getBoundingHull(o);t.elems.boundingHull.push(i);let u=r.getBoundingBox(o);t.elems.looseBoundingBox.push(u);let l=r.getBoundingBoxTight(o);t.elems.tightBoundingBox.push(l),e++})}},t.addDebugInfo2=function(e){if("undefined"==typeof _debug_)return;let t=_debug_.generated,n=t.timing,r=performance.now();n.holeClosers[1]+=r-n.holeClosers[0],n.oneAnd2Prongs[0]=r;for(let n of e)for(let e of n)o.PointOnShape.isSharpCorner(e)?t.elems.sharpCorner.push(e):o.PointOnShape.isDullCorner(e)&&t.elems.dullCorner.push(e)},t.addDebugInfo3=function(){if("undefined"==typeof _debug_)return;let e=_debug_.generated.timing,t=performance.now();e.oneAnd2Prongs[1]+=t-e.oneAnd2Prongs[0],e.threeProngs[0]=t},t.addDebugInfo4=function(e){if("undefined"==typeof _debug_)return;let t=_debug_.generated,n=t.timing;t.elems.mat.push(e),n.threeProngs[1]+=performance.now()-n.threeProngs[0],n.mats[1]=n.holeClosers[1]+n.oneAnd2Prongs[1]+n.threeProngs[1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.getPotential2Prongs=function(e){let t=[];for(let n of e){let e=[];for(let t of n)r.PointOnShape.isQuiteSharpCorner(t)||e.push(t);t.push(e)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.getSharpCorners=function(e){let t=[];for(let n of e){let e=[];for(let t of n)r.PointOnShape.isQuiteSharpCorner(t)&&e.push(t);t.push(e)}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(2),i=n(1);t.getEdgeDirection=function(e){let t,n=e.cp.circle.center,u=e,l=e.nextOnCircle,s=u.cp.pointOnShape,c=l.cp.pointOnShape,a=s.p,d=c.p;if(i.PointOnShape.isSharpCorner(s)){let e,n;0===s.t?(e=s.curve,n=s.curve.prev):1===s.t&&(e=s.curve.next,n=s.curve);let i=o.tangent(e.ps)(0),u=r.reverse(o.tangent(n.ps)(1)),l=r.dot(i,u),c=Math.sqrt((1+l)/2),a=Math.sqrt((1-l)/2);t=r.rotate(a,c,u)}else t=a[0]===d[0]&&a[1]===d[1]?r.fromTo(a,n):r.rotate90Degrees(r.fromTo(a,d));return[n,r.translate(r.toUnitVector(t),n)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(120);t.findAndAdd2ProngsOnAllPaths=function(e,t,n,o){let i;for(let u=0;u<n.length;u++){let l=n[u];i=r.findAndAdd2Prongs(e,t,u,l,o)}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),o=n(55),i=n(57);t.findAndAdd2Prongs=function(e,t,n,u,l){let s,c=u.length,a=function(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t}(c),d=r.getShapeBounds(e),f=Math.pow(d.maxX.p[0]-d.minX.p[0],2)+Math.pow(d.maxY.p[1]-d.minY.p[1],2);for(let r=0;r<c;r++){let c,d=u[a[r]];if(c=o.find2Prong(e,l,f,t,d,!1,n)){let{circle:e,zs:n}=c,r=i.add2Prong(t,e,d,n,!1,l);!s&&r&&(s=r)}if("undefined"!=typeof _debug_&&r+1===_debug_.directives.stopAfterTwoProngsNum)return}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(51),i=n(21);t.add1Prong=function(e,t,n){if(r.PointOnShape.isDullCorner(n))return void("undefined"!=typeof _debug_&&_debug_.generated.elems.oneProngAtDullCorner.push(n));let u=r.PointOnShape.getOsculatingCircle(e,n),l=r.PointOnShape.calcOrder(u,n);i.isAnotherCpCloseby(t,n,u,l,0,1e3,"magenta")||(o.addToCpGraph(u,[-.5,.5],t,[n,n]),"undefined"!=typeof _debug_&&_debug_.generated.elems.oneProng.push(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(123),o=n(56);t.addDebugInfo=function(e,t,n,i,u,l,s,c){let a=new r.TwoProngForDebugging(_debug_.generated,e,n,l,u?u.p:void 0,i,s,t,c,!1,!1),d=o.getTwoProngType(a);_debug_.generated.elems[d].push(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TwoProngForDebugging=class{constructor(e,t,n,r,o,i,u,l,s,c,a,d){this.generated=e,this.bezierPieces=t,this.pos=n,this.δ=r,this.z=o,this.circle=i,this.xs=u,this.failed=l,this.holeClosing=s,this.notAdded=c,this.deleted=a,this.cpNode=d}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(48);t.cullBezierPieces=function(e,t,n){if(e.length<=5)return e;let i=[];for(let u of e){let e=u.curve.ps,l=r.getBoundingBox(e);o.getClosestSquareDistanceToRect(l,t)<=1.001*n&&i.push(u)}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findEquidistantPointOnLine=function(e,t,n){let r,o,i,u,l,s,c=Math.abs((e[1]-t[1])/(e[0]-t[0]))>1;c?(r=e[1],o=e[0],i=t[1],u=t[0],l=n[1],s=n[0]):(r=e[0],o=e[1],i=t[0],u=t[1],l=n[0],s=n[1]);let a=(o-u)/(r-i),d=u-a*i,f=(i*i+u*u-l*l-s*s+2*d*(s-u))/(2*(i-l+a*(u-s))),p=a*f+d;return c?[p,f]:[f,p]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(18),o=n(50),i=n(20),u=n(1);t.getInitialBezierPieces=function(e,t,n,l,s){let c,a;if(e){c=[];for(let e=0;e<t;e++){let t=n[e].curves.map(e=>new i.BezierPiece(e,[0,1]));c.push(...t)}}else{let e=u.PointOnShape.isDullCorner(s)?1===s.t?-1:1:0,d=n[t],f=r.getNeighbouringPoints(l.get(d),s,e,0)[0];a=[f,f],c=f&&f!==f.next.next?o.getBoundaryPieceBeziers(a):d.curves.map(e=>new i.BezierPiece(e,[0,1]))}return{bezierPieces:c,"δ":a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),i=n(47),u=n(128);t.getCloseBoundaryPoints=function(e,t,n,l,s){e=i.cullBezierPieces(e,t);let c=[];for(let i=0;i<e.length;i++){let a=e[i],d=u.closestPointsOnCurve(a.curve,t,a.ts,n,l,s,1e-9);for(let e=0;e<d.length;e++){let n=d[e],i=r.distanceBetween(n.p,t),u=a.curve,l=n.t;Math.abs(i-s)<1e-9&&(0===l&&(l=1,u=a.curve.prev),c.push({pos:new o.PointOnShape(u,l),d:i}))}}if(c.length>1){let e=[];for(let t=0;t<c.length;t++){let n=c[t];(n.pos.t<.01||1-n.pos.t<.01)&&e.push(t)}let t=[];for(let n=0;n<e.length;n++)for(let r=n+1;r<e.length;r++){if(n===r)continue;let o=c[e[n]].pos.p,i=c[e[r]].pos.p;Math.abs(o[0]-i[0])<1e-6&&Math.abs(o[1]-i[1])<1e-6&&t.push(e[n])}for(let e=t.length-1;e>=0;e--)c.splice(t[e],1)}return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(2);t.closestPointsOnCurve=function(e,t,n=[0,1],i,u,l,s){let[[c,a],[d,f],[p,g],[h,_]]=e.ps,[v,b]=t,m=c-v,P=d-v,O=p-v,x=h-v,C=a-b,M=f-b,I=g-b,y=_-b,w=m*m,T=6*m*P,N=6*m*O,S=2*m*x,B=9*P*P,j=18*P*O,D=6*P*x,E=9*O*O,z=6*O*x,L=C*C,F=6*C*M,A=6*C*I,Y=2*C*y,R=9*M*M,V=18*M*I,H=6*M*y,q=9*I*I,X=6*I*y,G=[6*(x*x-z+D-S+E-j+N+B-T+w+(y*y-X+H-Y+q-V+A+R-F+L)),5*(z-2*D+3*S-2*E+3*j-4*N-4*B+5*T-6*w+(X-2*H+3*Y-2*q+3*V-4*A-4*R+5*F-6*L)),4*(D-3*S+E-3*j+6*N+6*B-10*T+15*w+(H-3*Y+q-3*V+6*A+6*R-10*F+15*L)),3*(S+j-4*N-4*B+10*T-20*w+(Y+V-4*A-4*R+10*F-20*L)),2*(N+B-5*T+15*w+(A+R-5*F+15*L)),T-6*w+(F-6*L)];e===i&&(G=r.default.deflate(G,u));let Q=r.default.allRoots(G,n[0],n[1]),k=!0,U=!0;(1===u&&e===i.next||e===i&&0===u)&&(k=!1),(0===u&&e===i.prev||e===i&&1===u)&&(U=!1),0===n[0]?k&&Q.push(n[0]):1===n[0]?U&&Q.push(n[0]):Q.push(n[0]),0===n[1]?k&&Q.push(n[1]):1===n[1]?U&&Q.push(n[1]):Q.push(n[1]);let Z=[];for(let e=0;e<Q.length;e++){let t=Q[e];0!==t&&t<1e-10?t=0:1!==t&&1-t<1e-10&&(t=1),Z.push(t)}let K=o.evaluate(e.ps);return Q.map(e=>({p:K(e),t:e}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(130),o=n(131),i=n(1);t.createGetInterestingPointsOnLoop=function(e=3){return function(t){let n=[];for(let u=0;u<t.curves.length;u++){let l=t.curves[u],{maxCurvaturePoss:s,maxNegativeCurvaturePoss:c}=o.getBezierCurvatureExtrema(l);n.push(...r.getContactCirclesAtInterface(l),...s,...c);let a=e+1;for(let e=1;e<a;e++)n.push(new i.PointOnShape(l,e/a))}return n.sort(i.PointOnShape.compare),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),o=n(1);t.getContactCirclesAtInterface=function(e){let{isQuiteSharp:t,isDull:n,isQuiteDull:i}=r.Curve.getCornerAtEnd(e);return t?[new o.PointOnShape(e,1)]:i?[new o.PointOnShape(e,1),new o.PointOnShape(e.next,0)]:[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(2),i=n(1),u=n(132);function l(e,[t,n]){let i=o.dκMod(e);if(!(i(t)*i(n)>=0))return r.default.brent(i,t,n)}t.getBezierCurvatureExtrema=function(e){let t=[],n=[],r=e.ps,s=u.calcBezierCurvatureExtremaBrackets(r),c=o.κ(r),a=s.length;for(let o=0;o<a;o++){let u=s[o];if(!u)continue;let a=l(r,u);if(!a)continue;let d=-c(a),f=-c(u[0]),p=-c(u[1]);d>f&&d>p?d>0&&t.push(new i.PointOnShape(e,a)):d<=f&&d<=p&&d<0&&n.push(new i.PointOnShape(e,a))}return{maxCurvaturePoss:t,maxNegativeCurvaturePoss:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=1e-6;function o(e){let[t,n]=e;if(!(t<0&&n<0||t>1&&n>1))return t<0&&(t=0),t>1&&(t=1),n<0&&(n=0),n>1&&(n=1),[t,n]}t.calcBezierCurvatureExtremaBrackets=function(e){let[[t,n],[i,u],[l,s],[c,a]]=e,d=[],f=i-t,p=u-n,g=l-t,h=s-n,_=c-t,v=a-n,b=f,m=g-f,P=_-g,O=p,x=h-p,C=v-h;Math.abs(b-2*m+P)<r&&Math.abs(O-2*x+C);let M,I=_-3*g+3*f,y=v-3*h+3*p,w=I*I,T=y*y,N=Math.sqrt(w/T+1),S=1/N,B=f*S-p*(M=0===S?1:I/(y*N)),j=f*M+p*S,D=g*S-h*M,E=g*M+h*S,z=_*S-v*M;b=B,m=D-B,P=z-D;let L=3*((O=j)-2*(x=E-j)+(C=_*M+v*S-E)),F=D-2*B;if(0===F){if(0===b)return[]}else{F<0&&(B=-B,D=-D,z=-z,b=-b,m=-m,P=-P,F=-F);let e=6*F,t=3*L*b/(e*e),n=3*(x-O)/e,r=t*t-2*n*t+3*L*O/(e*e),i=2*(n-t),u=function(e,t,n){return r=>r.map(function(e,t,n){return r=>t/n*(r-e)}(e,t,n))}(t,e,L);if(r>0){let e=Math.sqrt(r),t=-e,n=e;d=[[Number.NEGATIVE_INFINITY,t],[t,n],[n,Number.POSITIVE_INFINITY]].map(u).map(o)}else if(r<0){let e=2*i*i-8*r-3;if(e<0)d=[[0,Math.sqrt(-3*r)]].map(u).map(o);else{let t=Math.sqrt(5*e),n=(-5*i-t)/10,l=(-5*i+t)/10;d=[[Number.NEGATIVE_INFINITY,n],[n,Math.min(0,l)],[Math.max(0,l),Math.sqrt(-3*r)]].map(u).map(o)}}}return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),o=n(134),i=n(55),u=n(57);t.findAndAddHoleClosing2Prongs=function(e,t,n){let l=r.getShapeBounds(e),s=Math.pow(l.maxX.p[0]-l.minX.p[0],2)+Math.pow(l.maxY.p[1]-l.minY.p[1],2),c=e.map(o.getMinYPos);for(let r=1;r<c.length;r++){let o=c[r],l=i.find2Prong(e,n,s,t,o,!0,r);if(!l)throw"unable to find hole-closing 2-prong";if(l){let{circle:e,zs:r}=l;u.add2Prong(t,e,o,r,!0,n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);t.getMinYPos=function(e){let t=r.getLoopBounds(e).minY;return"undefined"!=typeof _debug_&&_debug_.generated.elems.minY.push(t),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15),o=n(22),i=n(58),u=n(136);t.trimMat=function(e){let t=u.cullNonCycles(e.cpNode.clone());if(t)return o.smoothen(t),new r.Mat(t,i.createNewCpTree(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23),o=n(6);t.cullNonCycles=function(e){let t=e,n=r.getLeaves(e);for(;n.length;){let r=n.pop();if(r.isHoleClosing||r.isIntersection)continue;let i=r.next;for(;;){let n=!1,r=(i=i.next).prevOnCircle;if(i.getProngCount()>2){let t=i.nextOnCircle;o.CpNode.isOnSameCircle(i,e)?n=!0:i.next===t?i=t:t.next!==r&&(n=!0)}else if(i.isTerminating()&&!i.isIntersection)return void(t=i);if(n){r.next=i,i.prev=r,t=i;break}}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(15),i=n(19),u=n(59),l=n(22),s=n(138),c=n(58),a=n(23),d=n(139),f=n(140);let p=r.length([0,1]);t.toScaleAxis=function(e,t,n=function(e,t){return function(e){return t*e}}){if("undefined"!=typeof _debug_){_debug_.generated.timing.sats[0]=performance.now();let t=a.getLeaves(e.cpNode);_debug_.generated.elems.leaves.push(t)}let r=[];u.traverseVertices(e.cpNode.clone(),e=>{r.push(e)});let g=s.getLargestVertex(r),h=n(g,t);"undefined"!=typeof _debug_&&_debug_.generated.elems.maxVertex.push(g);let _=new Set,v=new Map;i.traverseEdges(g,function(e){let t=v.get(e)||h(e.cp.circle.radius),n=e.next,r=p(e.matCurveToNextVertex),o=n.cp.circle.radius;if(t-r>h(o)){for(let e of n.getCpNodesOnCircle())v.set(e,t-r);_.add(n.cp.circle)}}),d.cull(_,g),"undefined"!=typeof _debug_&&_debug_.generated.elems.culls.push(Array.from(_)),l.smoothen(g);let b=new o.Mat(g,c.createNewCpTree(g));return f.addDebugInfo(b),b}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLargestVertex=function(e){return e.reduce(function(e,t){return e.cp.circle.radius>=t.cp.circle.radius?e:t},e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23),o=n(6);t.cull=function(e,t){let n=r.getLeaves(t);function i(e){let t=e,n=[];do{t.next!==t.nextOnCircle&&n.push(t),t=t.nextOnCircle}while(t!==e.prevOnCircle);return n}for(;n.length;){let r=n.pop();if(r.isHoleClosing||r.isIntersection)continue;if(!e.has(r.cp.circle))continue;let u=r.next;for(;;){let n=!1,r=(u=u.next).prevOnCircle;if(e.has(u.cp.circle))if(o.CpNode.isOnSameCircle(u,t))n=!0;else{let e=i(u);1===e.length?u=e[0]:n=!0}else n=!0;if(n){r.next=u,u.prev=r;break}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDebugInfo=function(e){if("undefined"==typeof _debug_)return;let t=_debug_.generated;t.elems.sat.push(e);let n=t.timing;n.sats[1]+=performance.now()-n.sats[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(2),i=n(142),u=n(143),l=n(144),s=n(145);class c{constructor(e,t){this.path=e,this.g=t,this.elems={twoProng_regular:[],twoProng_failed:[],twoProng_notAdded:[],twoProng_deleted:[],twoProng_holeClosing:[],looseBoundingBox:[],tightBoundingBox:[],oneProng:[],oneProngAtDullCorner:[],sharpCorner:[],dullCorner:[],minY:[],threeProng:[],boundingHull:[],mat:[],sat:[],cpNode:[],loop:[],loops:[],maxVertex:[],leaves:[],culls:[],intersection:[]},this.timing={simplify:[0,0],holeClosers:[0,0],oneAnd2Prongs:[0,0],threeProngs:[0,0],mats:[0,0],sats:[0,0]}}}t.Generated=c;t.MatDebug=class{constructor(e){this.generated=void 0,this.generatedAll=new Map,this.Bezier3=o,this.Vector2d=r,this.directives={stopAfterHoleClosers:!1,stopAfterHoleClosersNum:void 0,stopAfterTwoProngs:!1,stopAfterTwoProngsNum:void 0,stopAfterThreeProngs:!1},this.fs=Object.assign({draw:e},i.generalDebugFunctions,{twoProng:u.twoProngDebugFunctions,threeProng:l.threeProngDebugFunctions,drawElem:s.drawElemFunctions})}createNewGenerated(e,t,n){this.generated=new c(t,n),this.generatedAll.set(e,this.generated)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);let o=0;function i(e){return e.map(e=>r.PointOnShape.toHumanString(e.cp.pointOnShape))}function u(e,t=3){return e[0].toFixed(t)+", "+e[1].toFixed(t)}let l={"δToString":i,"δsToString":function(e){return e.map(i)},pointToStr:u,pointsToStr:function(e,t=3){return e.map(e=>u(e,t))},nameObj:function(e,t=""){e.name=""+t+o++}};t.generalDebugFunctions=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=n(0);function i(e,t,n=1e3,i,l="twoProng_regular"){if(void 0===e)return;let s=_debug_.generated.elems[l][e],c=s.xs,a=s.generated.g;console.log(s),console.log(s.xs.map(e=>({x:e.x,y:e.y,z:e.z,d:e.z?o.squaredDistanceBetween(e.y.p,e.z.p):0,t:e.t})));for(let e=0;e<c.length;e++){if(i&&(e<i[0]||e>=i[1]))continue;if(t&&e!==c.length-1)continue;let u=s.xs[e],l=new r.Circle(u.x,o.distanceBetween(u.x,u.y.p));_debug_.fs.draw.crossHair(a,u.x,"red thin10 nofill",void 0,n),_debug_.fs.draw.circle(a,l,"blue thin10 nofill",n),void 0!==u.z&&_debug_.fs.draw.crossHair(a,u.z.p,"yellow thin10 nofill",2,n)}u.drawNormal(e,n)}let u={"logδ":function(e,t="twoProng_regular"){let n=_debug_.generated.elems[t][e].δ;console.log(n)},log:function(e,t="twoProng_regular"){let n=_debug_.generated.elems[t][e];console.log(n)},drawNormal:function e(t,n=1e3,r="twoProng_regular"){let o=_debug_.generated.elems[r];if(void 0===t)for(let t=0;t<o.length;t++)e(t);let i=o[t],u=i.generated.g;i&&_debug_.fs.draw.line(u,[i.pos.p,i.circle.center],"thin10 blue",n)},"logδBasic":function(e,t="twoProng_regular"){let n=_debug_.generated.elems[t][e].δ;function r(e){let t=e.cp.pointOnShape;return{bez:t.curve.ps,t:t.t}}console.log(r(n[0])),console.log(r(n[1]))},traceConvergence:i,logNearest:function(e,t=1e3,n="twoProng_regular"){let r=[];_debug_.generatedAll.forEach(function(t,i){let u=o.getObjClosestTo(e,t.elems[n],e=>e.circle.center);r.push(u)});let u,l=o.getObjClosestTo(e,r,e=>e.circle.center);console.log(l);for(let e=0;e<_debug_.generated.elems[n].length;e++)if(_debug_.generated.elems[n][e]===l){u=e;break}void 0!==u&&i(u,!0,t)}};t.twoProngDebugFunctions=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(5);let i={drawSpokes:function(e){let t=_debug_.generated.elems.threeProng[e],n=t.generated.g,r=t.circle.center,o=t.poss;_debug_.fs.draw.line(n,[o[0].p,r],"thin5 red"),_debug_.fs.draw.line(n,[o[1].p,r],"thin5 red"),_debug_.fs.draw.line(n,[o[2].p,r],"thin5 red")},traceConvergence:function(e,t){let n,r;void 0===e?(n=0,r=_debug_.generated.elems.threeProng.length):(n=e,r=e+1);for(let o=n;o<r;o++){let n=_debug_.generated.elems.threeProng[o],r=n.generated.g;console.log(n);let i,u,l=n.candidateThreeProngs;void 0===e||-1===t?(i=n.bestIndx,u=n.bestIndx+1):void 0===t?(i=0,u=l.length):(i=t,u=t+1);for(let e=i;e<u;e++){let t=l[e].circle;n.bestIndx===e?(_debug_.fs.draw.dot(r,t.center,.2,"green"),_debug_.fs.draw.circle(r,t,"black thin10 nofill")):(_debug_.fs.draw.dot(r,t.center,.2,"cyan"),_debug_.fs.draw.circle(r,t,"cyan thin5 nofill"))}}},showBoundary:function(e,t){let n=_debug_.generated.elems.threeProng[e],o=n.generated.g,i=n.candidateThreeProngs,u=void 0===t?0:t,l=void 0===t?i.length:t,s=n.cpss,c=0;for(let e=1;e<s.length-1;e++){if(!(c>=u&&c<=l)){c++;continue}let t=[s[0],s[e],s[s.length-1]];for(let e=0;e<3;e++){let n=t[e],i=n[0],u=n[1],l=i.cp.pointOnShape,s=u.cp.pointOnShape,c=l.p,a=s.p,d=1+.5*e;r.equal(c,a)?_debug_.fs.draw.crossHair(o,c,"red thin10 nofill",d):(_debug_.fs.draw.crossHair(o,c,"green thin10 nofill",d),_debug_.fs.draw.crossHair(o,a,"blue thin10 nofill",d))}c++}},"logδs":function(e){let t=_debug_.generated.elems.threeProng[e];console.log(t.cpss)},logNearest:function(e=!0,t=!0,n=!0){return function(i,u=1e3){let l=[];_debug_.generatedAll.forEach(function(e){let t=r.getObjClosestTo(i,e.elems.threeProng,e=>e.circle.center);l.push(t)});let s=r.getObjClosestTo(i,l,e=>e.circle.center),c=s.circle,a=s.generated.g;console.log(s);let d=new o.Circle(c.center,c.radius||1),f=_debug_.fs.draw;if(f.circle(a,d,"blue thin10 nofill",u),f.crossHair(a,c.center,"red thin2 nofill",2,u),e&&(f.line(a,[s.poss[0].p,c.center],"blue thin5 nofill",u),f.line(a,[s.poss[1].p,c.center],"blue thin5 nofill",u),f.line(a,[s.poss[2].p,c.center],"blue thin5 nofill",u)),n){let e=s.boundaries,t=e[0],n=e[e.length-1];f.beziers(a,t,"red thin5 nofill",u);for(let t=1;t<e.length-1;t++){let n=e[t];f.beziers(a,n,"green thin5 nofill",u)}f.beziers(a,n,"blue thin5 nofill",u)}if(t){let e=s.traces;for(let t of e)f.polyline(a,t,"red thin5 nofill",u)}}}};t.threeProngDebugFunctions=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(146),o=n(147),i=n(148),u=n(149),l=n(150),s=n(151),c=n(152),a=n(153),d=n(154),f=n(155),p=n(156),g=n(157),h=n(158),_=n(159),v=n(160),b=n(161),m=n(162),P=n(163);let O={oneProng:r.oneProng,oneProngAtDullCorner:P.oneProngAtDullCorner,twoProng_regular:o.twoProng,twoProng_failed:o.twoProng,twoProng_notAdded:o.twoProng,twoProng_deleted:o.twoProng,twoProng_holeClosing:o.twoProng,threeProng:i.threeProng,minY:l.minY,boundingHull:s.boundingHull,looseBoundingBox:c.looseBoundingBox,tightBoundingBox:a.tightBoundingBox,sharpCorner:d.sharpCorner,dullCorner:f.dullCorner,vertex:u.vertex,mat:p.mat("mat",!0),sat:p.mat("sat",!0),loop:g.loop,loops:h.loops,maxVertex:_.maxVertex,leaves:v.leaves,culls:b.culls,intersection:m.intersection};t.drawElemFunctions=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(5),i=.5;t.oneProng=function(e,t){let n=_debug_.fs.draw,u=o.Circle.scale(r.PointOnShape.getOsculatingCircle(Number.POSITIVE_INFINITY,t),1),l=n.dot(e,t.p,.1*i,"gray"),s=n.dot(e,u.center,.25*i,"gray"),c=n.circle(e,u,"gray thin10 nofill");return[...l,...s,...c]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56);t.twoProng=function(e,t){let n,o,i=[],u=[],l=[],s=[],c=[],a=_debug_.fs.draw;switch(r.getTwoProngType(t)){case"twoProng_regular":n="red ",o="2";break;case"twoProng_holeClosing":n="cyan ",o="10"}return t.failed?i=a.dot(e,t.pos.p,.3,"black"):t.failed||(u=a.dot(e,t.circle.center,.015,"yellow"),l=a.circle(e,t.circle,n+"thin"+o+" nofill"),s=a.dot(e,t.pos.p,.0105,n),c=a.dot(e,t.z,.021,n)),[...i,...u,...l,...s,...c]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),o=.3;t.threeProng=function(e,t){let n=_debug_.fs.draw,i=r.Circle.scale(t.circle,1),u=t.poss,l=n.dot(e,u[0].p,.1*o,"blue"),s=n.dot(e,u[1].p,.2*o,"blue"),c=n.dot(e,u[2].p,.1*3*o,"blue"),a=n.dot(e,i.center,.3*o,"blue"),d=n.circle(e,i,"blue thin2 nofill");return[...a,...l,...s,...c,...d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vertex=function(e,t,n=!0,r){let o=n?"":" invisible",i=t.cp.circle,u=_debug_.fs.draw,l=t.getCpNodesOnCircle();console.log(l);let s=[],c=u.circle(e,i,"red thin20 nofill "+o,r),a=u.crossHair(e,i.center,"red thin20 nofill "+o,3,r);s=[...c,...a];for(let t=0;t<l.length;t++){let n=l[t].next.cp.circle,c=u.circle(e,n,"pink thin20 nofill "+o,r),a=u.crossHair(e,n.center,"pink thin20 nofill "+o,3,r);s.push(...c,...a);let d=i.center,f=n.center,p=0===t?"thin10":1===t?"thin20":"thin35",g=u.line(e,[d,f],"yellow "+p+" nofill "+o,r);s.push(...g)}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.minY=function(e,t){let n=r.evaluate(t.curve.ps,t.t);return _debug_.fs.draw.crossHair(e,n,"red thin10 nofill")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boundingHull=function(e,t,n="thin5 black nofill"){return _debug_.fs.draw.polygon(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.looseBoundingBox=function(e,t){return _debug_.fs.draw.rect(e,t,"thin5 brown nofill")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tightBoundingBox=function(e,t){return _debug_.fs.draw.polygon(e,t,"thin5 black nofill")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sharpCorner=function(e,t){return _debug_.fs.draw.dot(e,t.p,.06,"green")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dullCorner=function(e,t){return _debug_.fs.draw.dot(e,t.p,.05,"orange")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19);t.mat=function(e,t){let n="mat"===e?"thin5 purple nofill":"thin10 red nofill";return function(e,o){let i=o.cpNode;if(!i)return;let u=_debug_.fs.draw,l=[];return r.traverseEdges(i,function(r){if(r.isTerminating())return;if(!t){let t=r.cp.circle.center,o=r.next.cp.circle.center;return void l.push(...u.line(e,[t,o],n))}let o=r.matCurveToNextVertex;if(!o)return;let i=[,,u.line,u.quadBezier,u.bezier];l.push(...i[o.length](e,o,n))}),l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loop=function(e,t){return[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loops=function(e,t){return[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxVertex=function(e,t){let n=_debug_.fs.draw,r=t.cp.circle;return n.circle(e,r,"brown thin10 nofill")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(60);t.leaves=function(e,t){let n=[];for(let o of t){let t=o.cp.circle.center;n.push(r.drawCirclePercent(e,t,.5,"pinker thin5 nofill"))}return n}},function(e,t,n){"use strict";function r(e,t,n,r){let o=document.createElementNS("http://www.w3.org/2000/svg","circle");return o.setAttributeNS(null,"cx",t[0].toString()),o.setAttributeNS(null,"cy",t[1].toString()),o.setAttributeNS(null,"r",n.toString()+"%"),o.setAttributeNS(null,"class",r),e.appendChild(o),o}Object.defineProperty(t,"__esModule",{value:!0}),t.culls=function(e,t){let n=[];for(let o of t){let t=o.center;n.push(r(e,t,.4,"cyan thin5 nofill"))}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(60);t.intersection=function(e,t){return[r.drawCirclePercent(e,t.pos.p,.7,"purple thin2 nofill")]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.oneProngAtDullCorner=function(e,t){let n=r.PointOnShape.getOsculatingCircle(Number.POSITIVE_INFINITY,t),o=_debug_.fs.draw.dot(e,t.p,.1,"orange"),i=_debug_.fs.draw.dot(e,n.center,.25,"orange"),u=_debug_.fs.draw.circle(e,n,"orange thin10 nofill");return[...o,...i,...u]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(0),i=n(2);t.closestPointOnBezier=function(e,t,n=[0,1]){let[[u,l],[s,c],[a,d],[f,p]]=e,[g,h]=t,_=u-g,v=s-g,b=a-g,m=f-g,P=l-h,O=c-h,x=d-h,C=p-h,M=_*_,I=6*_*v,y=6*_*b,w=2*_*m,T=9*v*v,N=18*v*b,S=6*v*m,B=9*b*b,j=6*b*m,D=P*P,E=6*P*O,z=6*P*x,L=2*P*C,F=9*O*O,A=18*O*x,Y=6*O*C,R=9*x*x,V=6*x*C,H=[6*(m*m-j+S-w+B-N+y+T-I+M+(C*C-V+Y-L+R-A+z+F-E+D)),5*(j-2*S+3*w-2*B+3*N-4*y-4*T+5*I-6*M+(V-2*Y+3*L-2*R+3*A-4*z-4*F+5*E-6*D)),4*(S-3*w+B-3*N+6*y+6*T-10*I+15*M+(Y-3*L+R-3*A+6*z+6*F-10*E+15*D)),3*(w+N-4*y-4*T+10*I-20*M+(L+A-4*z-4*F+10*E-20*D)),2*(y+T-5*I+15*M+(z+F-5*E+15*D)),I-6*M+(E-6*D)],q=r.default.allRoots(H,n[0],n[1]);0===n[0]?q.push(n[0]):(n[0],q.push(n[0])),0===n[1]?q.push(n[1]):(n[1],q.push(n[1]));let X=i.evaluate(e),G=q.map(e=>({p:X(e),t:e}));return o.getObjClosestTo(t,G,e=>e.p)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(166),o=n(180);t.getPathsFromStr=function(e){return r.getBeziersFromRawPaths(o.parsePathDataString(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(167),o=n(170),i=n(171),u=n(172),l=n(173),s=n(174),c=n(175),a=n(176),d=n(177),f=n(178),p={a:n(179).a,c:u.c,h:c.h,l:s.l,q:d.q,s:l.s,t:f.t,v:a.v,z:i.z};t.getBeziersFromRawPaths=function(e){if(0===e.length)return[];if("m"!==e[0].type.toLowerCase())throw new Error("Invalid SVG - every new path must start with an M or m.");let t=new o.PathState,n=[],u=[],l=Number.NEGATIVE_INFINITY;for(let t=0;t<e.length;t++){let n=e[t];for(let e=0;e<n.values.length;e++){let t=n.values[e];l<t&&(l=t)}}let s,c=void 0;for(let o=0;o<e.length;o++){s=c;let a=e[o];if(c=a.type.toLowerCase(),t.vals=a.values,a.type===a.type.toLowerCase())if("v"===c)t.vals[0]+=t.p[1];else if("a"===c)t.vals[5]+=t.p[0],t.vals[6]+=t.p[1];else for(let e=0;e<t.vals.length;e++)t.vals[e]+=t.p[e%2];if("m"===c){u.length&&("z"!==s&&r.pushBezier(u,i.z(t),t,l),n.push(u),u=[]),t.initialPoint=t.p=t.vals;continue}let d=p[c];if(!d)throw new Error("Invalid SVG - command not recognized.");let f=d(t);t.p=f[3],r.pushBezier(u,f,t,l)}return u.length&&("z"!==s&&r.pushBezier(u,i.z(t),t,l),n.push(u)),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(168),o=n(169),i=1e4;t.pushBezier=function(e,t,n,u){if(o.isAlmostZeroLength(t,u/i)){let r=e.length;return void(0===r?n.initialPoint=t[3]:e[r-1][3]=t[3])}let l=r.dePathologify(t,u);e.push(l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.dePathologify=function(e,t){let n=t/1e4,o=[[0,r.manhattanDistanceBetween(e[0],e[1]),r.manhattanDistanceBetween(e[0],e[2]),r.manhattanDistanceBetween(e[0],e[3])],[r.manhattanDistanceBetween(e[1],e[0]),0,r.manhattanDistanceBetween(e[1],e[2]),r.manhattanDistanceBetween(e[1],e[3])],[r.manhattanDistanceBetween(e[2],e[0]),r.manhattanDistanceBetween(e[2],e[1]),0,r.manhattanDistanceBetween(e[2],e[3])],[r.manhattanDistanceBetween(e[3],e[0]),r.manhattanDistanceBetween(e[3],e[1]),r.manhattanDistanceBetween(e[3],e[2]),0]],i=e;return(o[0][1]<n&&o[1][2]<n||o[1][2]<n&&o[2][3]<n)&&(i=[e[0],r.interpolate(e[0],e[3],1/3),r.interpolate(e[0],e[3],2/3),e[3]]),o[0][1]<n&&(i[1]=r.interpolate(e[0],e[2],.02)),o[2][3]<n&&(i[2]=r.interpolate(e[1],e[3],.98)),o[1][2]<n&&(i[1]=r.interpolate(e[0],e[1],.98),i[2]=r.interpolate(e[2],e[3],.02)),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=1e-6;t.isAlmostZeroLength=function(e,t=o){for(let n=1;n<e.length;n++){let o=e[n-1],i=e[n];if(r.manhattanDistanceBetween(o,i)>t)return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PathState=class{constructor(){this.initialPoint=void 0,this.prev2ndCubicControlPoint=void 0,this.prev2ndQuadraticControlPoint=void 0,this.p=[0,0]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.z=function(e){let t=(e.initialPoint[0]-e.p[0])/3,n=(e.initialPoint[1]-e.p[1])/3,r=[e.p,[e.p[0]+t,e.p[1]+n],[e.p[0]+2*t,e.p[1]+2*n],[e.p[0]+3*t,e.p[1]+3*n]];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=void 0,r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.c=function(e){let t=[e.p,[e.vals[0],e.vals[1]],[e.vals[2],e.vals[3]],[e.vals[4],e.vals[5]]];return e.prev2ndCubicControlPoint=t[2],e.prev2ndQuadraticControlPoint=void 0,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.s=function(e){let t=[void 0,void 0];e.prev2ndCubicControlPoint?(t[0]=e.p[0]-e.prev2ndCubicControlPoint[0]+e.p[0],t[1]=e.p[1]-e.prev2ndCubicControlPoint[1]+e.p[1]):t=e.p;let n=[e.p,t,[e.vals[0],e.vals[1]],[e.vals[2],e.vals[3]]];return e.prev2ndCubicControlPoint=n[2],e.prev2ndQuadraticControlPoint=void 0,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.l=function(e){let t=(e.vals[0]-e.p[0])/3,n=(e.vals[1]-e.p[1])/3,r=[e.p,[e.p[0]+1*t,e.p[1]+1*n],[e.p[0]+2*t,e.p[1]+2*n],[e.p[0]+3*t,e.p[1]+3*n]];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=void 0,r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.h=function(e){let t=(e.vals[0]-e.p[0])/3,n=[e.p,[e.p[0]+1*t,e.p[1]],[e.p[0]+2*t,e.p[1]],[e.p[0]+3*t,e.p[1]]];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=void 0,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.v=function(e){let t=(e.vals[0]-e.p[1])/3,n=[e.p,[e.p[0],e.p[1]+1*t],[e.p[0],e.p[1]+2*t],[e.p[0],e.p[1]+3*t]];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=void 0,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.q=function(e){let t=e.p,n=[e.vals[0],e.vals[1]],r=[e.vals[2],e.vals[3]],o=r,i=[t,[t[0]+2/3*(n[0]-t[0]),t[1]+2/3*(n[1]-t[1])],[r[0]+2/3*(n[0]-r[0]),r[1]+2/3*(n[1]-r[1])],o];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=n,i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.t=function(e){let t=[void 0,void 0];e.prev2ndQuadraticControlPoint?(t[0]=e.p[0]-e.prev2ndQuadraticControlPoint[0]+e.p[0],t[1]=e.p[1]-e.prev2ndQuadraticControlPoint[1]+e.p[1]):t=e.p;let n=e.p,r=t,o=[e.vals[0],e.vals[1]],i=[n,[n[0]+2/3*(r[0]-n[0]),n[1]+2/3*(r[1]-n[1])],[o[0]+2/3*(r[0]-o[0]),o[1]+2/3*(r[1]-o[1])],o];return e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=r,i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.a=function(e){e.prev2ndCubicControlPoint=void 0,e.prev2ndQuadraticControlPoint=void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(181);t.parsePathDataString=function(e){if(!e.length)return[];let t=new r.Source(e),n=[];if(!t.initialCommandIsMoveTo())return[];for(;t.hasMoreData();){let e=t.parseSegment();if(null===e)break;n.push(e)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(182),o={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"};t.Source=class{constructor(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}parseSegment(){var e=this._string[this._currentIndex],t=o[e]?o[e]:null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||e>="0"&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;this._prevCommand=t;var n=null,i=t.toUpperCase();return"H"===i||"V"===i?n=[r.parseNumber(this)]:"M"===i||"L"===i||"T"===i?n=[r.parseNumber(this),r.parseNumber(this)]:"S"===i||"Q"===i?n=[r.parseNumber(this),r.parseNumber(this),r.parseNumber(this),r.parseNumber(this)]:"C"===i?n=[r.parseNumber(this),r.parseNumber(this),r.parseNumber(this),r.parseNumber(this),r.parseNumber(this),r.parseNumber(this)]:"A"===i?n=[r.parseNumber(this),r.parseNumber(this),r.parseNumber(this),this._parseArcFlag(),this._parseArcFlag(),r.parseNumber(this),r.parseNumber(this)]:"Z"===i&&(this._skipOptionalSpaces(),n=[]),null===n||n.indexOf(null)>=0?null:{type:t,values:n}}hasMoreData(){return this._currentIndex<this._endIndex}peekSegmentType(){var e=this._string[this._currentIndex];return o[e]?o[e]:null}initialCommandIsMoveTo(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e}_isCurrentSpace(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)}_skipOptionalSpaces(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex}_skipOptionalSpacesOrDelimiter(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)}_parseArcFlag(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNumber=function(e){var t=0,n=0,r=1,o=0,i=1,u=1,l=e._currentIndex;if(e._skipOptionalSpaces(),e._currentIndex<e._endIndex&&"+"===e._string[e._currentIndex]?e._currentIndex+=1:e._currentIndex<e._endIndex&&"-"===e._string[e._currentIndex]&&(e._currentIndex+=1,i=-1),e._currentIndex===e._endIndex||(e._string[e._currentIndex]<"0"||e._string[e._currentIndex]>"9")&&"."!==e._string[e._currentIndex])return null;for(var s=e._currentIndex;e._currentIndex<e._endIndex&&e._string[e._currentIndex]>="0"&&e._string[e._currentIndex]<="9";)e._currentIndex+=1;if(e._currentIndex!==s)for(var c=e._currentIndex-1,a=1;c>=s;)n+=a*(Number(e._string[c])-0),c-=1,a*=10;if(e._currentIndex<e._endIndex&&"."===e._string[e._currentIndex]){if(e._currentIndex+=1,e._currentIndex>=e._endIndex||e._string[e._currentIndex]<"0"||e._string[e._currentIndex]>"9")return null;for(;e._currentIndex<e._endIndex&&e._string[e._currentIndex]>="0"&&e._string[e._currentIndex]<="9";)r*=10,o+=Number(e._string.charAt(e._currentIndex))/r,e._currentIndex+=1}if(e._currentIndex!==l&&e._currentIndex+1<e._endIndex&&("e"===e._string[e._currentIndex]||"E"===e._string[e._currentIndex])&&"x"!==e._string[e._currentIndex+1]&&"m"!==e._string[e._currentIndex+1]){if(e._currentIndex+=1,"+"===e._string[e._currentIndex]?e._currentIndex+=1:"-"===e._string[e._currentIndex]&&(e._currentIndex+=1,u=-1),e._currentIndex>=e._endIndex||e._string[e._currentIndex]<"0"||e._string[e._currentIndex]>"9")return null;for(;e._currentIndex<e._endIndex&&e._string[e._currentIndex]>="0"&&e._string[e._currentIndex]<="9";)t*=10,t+=Number(e._string[e._currentIndex]),e._currentIndex+=1}var d=n+o;return d*=i,t&&(d*=Math.pow(10,u*t)),l===e._currentIndex?null:(e._skipOptionalSpacesOrDelimiter(),d)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beziersToSvgPathStr=function(e,t=10){const n=t;let r="";for(let t=0;t<e.length;t++){let o=e[t];0===t&&(r="M "+o[0][0].toFixed(n)+" "+o[0][1].toFixed(n)+"\n"),r+="C "+o[1][0].toFixed(n)+" "+o[1][1].toFixed(n)+" "+o[2][0].toFixed(n)+" "+o[2][1].toFixed(n)+" "+o[3][0].toFixed(n)+" "+o[3][1].toFixed(n)+" \n"}return r+" z\n"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.getBoundaryBeziersToNext=function(e){let t=e,n=e.next,o=t.cp.pointOnShape,i=n.cp.pointOnShape,u=o.curve,l=i.curve;if(u.loop!==l.loop)return;let s=[];return l===u?s.push(r.fromTo(o.curve.ps)(o.t,i.t)):(s.push(r.fromTTo1(o.curve.ps,o.t)),function(e,t,n,o){let i=t;do{let t=(i=i.next)===n?o:1;e.push(r.from0ToT(i.ps,t))}while(i!==n)}(s,o.curve,i.curve,i.t)),s}}]);
